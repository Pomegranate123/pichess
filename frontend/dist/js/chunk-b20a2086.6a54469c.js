(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b20a2086"],{"057f":function(e,t,n){var r=n("fc6a"),o=n("241c").f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return o(e)}catch(t){return a.slice()}};e.exports.f=function(e){return a&&"[object Window]"==i.call(e)?s(e):o(r(e))}},"0a8e":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Chessground=void 0;const r=n("49de"),o=n("1de0"),i=n("4ee0"),a=n("80cc"),s=n("cea2"),c=n("0b07"),u=n("fa94"),l=n("b5dc");function f(e,t){const n=i.defaults();function f(){const t="dom"in n?n.dom.unbind:void 0,r=n.viewOnly&&!n.drawable.visible,o=a.renderWrap(e,n,r),i=l.memo(()=>o.board.getBoundingClientRect()),f=e=>{c.render(h),!e&&o.svg&&u.renderSvg(h,o.svg)},p=()=>{i.clear(),c.updateBounds(h),o.svg&&u.renderSvg(h,o.svg)},h=n;return h.dom={elements:o,bounds:i,redraw:d(f),redrawNow:f,unbind:t,relative:r},h.drawable.prevSvgHash="",f(!1),s.bindBoard(h,p),t||(h.dom.unbind=s.bindDocument(h,p)),h.events.insert&&h.events.insert(o),h}return o.configure(n,t||{}),r.start(f(),f)}function d(e){let t=!1;return()=>{t||(t=!0,requestAnimationFrame(()=>{e(),t=!1}))}}t.Chessground=f},"0ae7":function(e,t,n){},"0b07":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateBounds=t.render=void 0;const r=n("b5dc"),o=n("ae51"),i=n("b5dc");function a(e){const t=o.whitePov(e),n=e.dom.relative?i.posToTranslateRel:i.posToTranslateAbs(e.dom.bounds()),a=e.dom.relative?i.translateRel:i.translateAbs,s=e.dom.elements.board,h=e.pieces,g=e.animation.current,b=g?g.plan.anims:new Map,m=g?g.plan.fadings:new Map,y=e.draggable.current,w=p(e),S=new Set,P=new Set,E=new Map,k=new Map;let x,C,A,_,O,T,M,R,I,L;C=s.firstChild;while(C){if(x=C.cgKey,c(C))if(A=h.get(x),O=b.get(x),T=m.get(x),_=C.cgPiece,!C.cgDragging||y&&y.orig===x||(C.classList.remove("dragging"),a(C,n(r.key2pos(x),t)),C.cgDragging=!1),!T&&C.cgFading&&(C.cgFading=!1,C.classList.remove("fading")),A){if(O&&C.cgAnimating&&_===d(A)){const e=r.key2pos(x);e[0]+=O[2],e[1]+=O[3],C.classList.add("anim"),a(C,n(e,t))}else C.cgAnimating&&(C.cgAnimating=!1,C.classList.remove("anim"),a(C,n(r.key2pos(x),t)),e.addPieceZIndex&&(C.style.zIndex=f(r.key2pos(x),t)));_!==d(A)||T&&C.cgFading?T&&_===d(T)?(C.classList.add("fading"),C.cgFading=!0):v(E,_,C):S.add(x)}else v(E,_,C);else if(u(C)){const e=C.className;w.get(x)===e?P.add(x):v(k,e,C)}C=C.nextSibling}for(const[o,i]of w)if(!P.has(o)){I=k.get(i),L=I&&I.pop();const e=n(r.key2pos(o),t);if(L)L.cgKey=o,a(L,e);else{const t=r.createEl("square",i);t.cgKey=o,a(t,e),s.insertBefore(t,s.firstChild)}}for(const[o,i]of h)if(O=b.get(o),!S.has(o))if(M=E.get(d(i)),R=M&&M.pop(),R){R.cgKey=o,R.cgFading&&(R.classList.remove("fading"),R.cgFading=!1);const i=r.key2pos(o);e.addPieceZIndex&&(R.style.zIndex=f(i,t)),O&&(R.cgAnimating=!0,R.classList.add("anim"),i[0]+=O[2],i[1]+=O[3]),a(R,n(i,t))}else{const c=d(i),u=r.createEl("piece",c),l=r.key2pos(o);u.cgPiece=c,u.cgKey=o,O&&(u.cgAnimating=!0,l[0]+=O[2],l[1]+=O[3]),a(u,n(l,t)),e.addPieceZIndex&&(u.style.zIndex=f(l,t)),s.appendChild(u)}for(const r of E.values())l(e,r);for(const r of k.values())l(e,r)}function s(e){if(e.dom.relative)return;const t=o.whitePov(e),n=i.posToTranslateAbs(e.dom.bounds());let a=e.dom.elements.board.firstChild;while(a)(c(a)&&!a.cgAnimating||u(a))&&i.translateAbs(a,n(r.key2pos(a.cgKey),t)),a=a.nextSibling}function c(e){return"PIECE"===e.tagName}function u(e){return"SQUARE"===e.tagName}function l(e,t){for(const n of t)e.dom.elements.board.removeChild(n)}function f(e,t){let n=2+8*e[1]+(7-e[0]);return t&&(n=67-n),n+""}function d(e){return`${e.color} ${e.role}`}function p(e){var t;const n=new Map;if(e.lastMove&&e.highlight.lastMove)for(const i of e.lastMove)h(n,i,"last-move");if(e.check&&e.highlight.check&&h(n,e.check,"check"),e.selected&&(h(n,e.selected,"selected"),e.movable.showDests)){const r=null===(t=e.movable.dests)||void 0===t?void 0:t.get(e.selected);if(r)for(const t of r)h(n,t,"move-dest"+(e.pieces.has(t)?" oc":""));const o=e.premovable.dests;if(o)for(const t of o)h(n,t,"premove-dest"+(e.pieces.has(t)?" oc":""))}const r=e.premovable.current;if(r)for(const i of r)h(n,i,"current-premove");else e.predroppable.current&&h(n,e.predroppable.current.key,"current-premove");const o=e.exploding;if(o)for(const i of o.keys)h(n,i,"exploding"+o.stage);return n}function h(e,t,n){const r=e.get(t);r?e.set(t,`${r} ${n}`):e.set(t,n)}function v(e,t,n){const r=e.get(t);r?r.push(n):e.set(t,[n])}t.render=a,t.updateBounds=s},1276:function(e,t,n){"use strict";var r=n("d784"),o=n("44e7"),i=n("825a"),a=n("1d80"),s=n("4840"),c=n("8aa5"),u=n("50c4"),l=n("14c3"),f=n("9263"),d=n("d039"),p=[].push,h=Math.min,v=4294967295,g=!d((function(){return!RegExp(v,"y")}));r("split",2,(function(e,t,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var r=String(a(this)),i=void 0===n?v:n>>>0;if(0===i)return[];if(void 0===e)return[r];if(!o(e))return t.call(r,e,i);var s,c,u,l=[],d=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),h=0,g=new RegExp(e.source,d+"g");while(s=f.call(g,r)){if(c=g.lastIndex,c>h&&(l.push(r.slice(h,s.index)),s.length>1&&s.index<r.length&&p.apply(l,s.slice(1)),u=s[0].length,h=c,l.length>=i))break;g.lastIndex===s.index&&g.lastIndex++}return h===r.length?!u&&g.test("")||l.push(""):l.push(r.slice(h)),l.length>i?l.slice(0,i):l}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var o=a(this),i=void 0==t?void 0:t[e];return void 0!==i?i.call(t,o,n):r.call(String(o),t,n)},function(e,o){var a=n(r,e,this,o,r!==t);if(a.done)return a.value;var f=i(e),d=String(this),p=s(f,RegExp),b=f.unicode,m=(f.ignoreCase?"i":"")+(f.multiline?"m":"")+(f.unicode?"u":"")+(g?"y":"g"),y=new p(g?f:"^(?:"+f.source+")",m),w=void 0===o?v:o>>>0;if(0===w)return[];if(0===d.length)return null===l(y,d)?[d]:[];var S=0,P=0,E=[];while(P<d.length){y.lastIndex=g?P:0;var k,x=l(y,g?d:d.slice(P));if(null===x||(k=h(u(y.lastIndex+(g?0:P)),d.length))===S)P=c(d,P,b);else{if(E.push(d.slice(S,P)),E.length===w)return E;for(var C=1;C<=x.length-1;C++)if(E.push(x[C]),E.length===w)return E;P=S=k}}return E.push(d.slice(S)),E}]}),!g)},"14c3":function(e,t,n){var r=n("c6b6"),o=n("9263");e.exports=function(e,t){var n=e.exec;if("function"===typeof n){var i=n.call(e,t);if("object"!==typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==r(e))throw TypeError("RegExp#exec called on incompatible receiver");return o.call(e,t)}},"159b":function(e,t,n){var r=n("da84"),o=n("fdbc"),i=n("17c2"),a=n("9112");for(var s in o){var c=r[s],u=c&&c.prototype;if(u&&u.forEach!==i)try{a(u,"forEach",i)}catch(l){u.forEach=i}}},"17c2":function(e,t,n){"use strict";var r=n("b727").forEach,o=n("a640"),i=n("ae40"),a=o("forEach"),s=i("forEach");e.exports=a&&s?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},"1dde":function(e,t,n){var r=n("d039"),o=n("b622"),i=n("2d00"),a=o("species");e.exports=function(e){return i>=51||!r((function(){var t=[],n=t.constructor={};return n[a]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"1de0":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.configure=void 0;const r=n("ae51"),o=n("bfa5");function i(e,t){var n;if((null===(n=t.movable)||void 0===n?void 0:n.dests)&&(e.movable.dests=void 0),a(e,t),t.fen&&(e.pieces=o.read(t.fen),e.drawable.shapes=[]),t.hasOwnProperty("check")&&r.setCheck(e,t.check||!1),t.hasOwnProperty("lastMove")&&!t.lastMove?e.lastMove=void 0:t.lastMove&&(e.lastMove=t.lastMove),e.selected&&r.setSelected(e,e.selected),(!e.animation.duration||e.animation.duration<100)&&(e.animation.enabled=!1),!e.movable.rookCastle&&e.movable.dests){const t="white"===e.movable.color?"1":"8",n="e"+t,r=e.movable.dests.get(n),o=e.pieces.get(n);if(!r||!o||"king"!==o.role)return;e.movable.dests.set(n,r.filter(e=>!(e==="a"+t&&r.includes("c"+t))&&!(e==="h"+t&&r.includes("g"+t))))}}function a(e,t){for(const n in t)s(e[n])&&s(t[n])?a(e[n],t[n]):e[n]=t[n]}function s(e){return"object"===typeof e}t.configure=i},2532:function(e,t,n){"use strict";var r=n("23e7"),o=n("5a34"),i=n("1d80"),a=n("ab13");r({target:"String",proto:!0,forced:!a("includes")},{includes:function(e){return!!~String(i(this)).indexOf(o(e),arguments.length>1?arguments[1]:void 0)}})},"25f0":function(e,t,n){"use strict";var r=n("6eeb"),o=n("825a"),i=n("d039"),a=n("ad6d"),s="toString",c=RegExp.prototype,u=c[s],l=i((function(){return"/a/b"!=u.call({source:"a",flags:"b"})})),f=u.name!=s;(l||f)&&r(RegExp.prototype,s,(function(){var e=o(this),t=String(e.source),n=e.flags,r=String(void 0===n&&e instanceof RegExp&&!("flags"in c)?a.call(e):n);return"/"+t+"/"+r}),{unsafe:!0})},"3ca3":function(e,t,n){"use strict";var r=n("6547").charAt,o=n("69f3"),i=n("7dd0"),a="String Iterator",s=o.set,c=o.getterFor(a);i(String,"String",(function(e){s(this,{type:a,string:String(e),index:0})}),(function(){var e,t=c(this),n=t.string,o=t.index;return o>=n.length?{value:void 0,done:!0}:(e=r(n,o),t.index+=e.length,{value:e,done:!1})}))},4160:function(e,t,n){"use strict";var r=n("23e7"),o=n("17c2");r({target:"Array",proto:!0,forced:[].forEach!=o},{forEach:o})},"44e7":function(e,t,n){var r=n("861d"),o=n("c6b6"),i=n("b622"),a=i("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==o(e))}},4745:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=t.anim=void 0;const r=n("b5dc");function o(e,t){return t.animation.enabled?l(e,t):i(e,t)}function i(e,t){const n=e(t);return t.dom.redraw(),n}function a(e,t){return{key:e,pos:r.key2pos(e),piece:t}}function s(e,t){return t.sort((t,n)=>r.distanceSq(e.pos,t.pos)-r.distanceSq(e.pos,n.pos))[0]}function c(e,t){const n=new Map,o=[],i=new Map,c=[],u=[],l=new Map;let f,d,p;for(const[r,s]of e)l.set(r,a(r,s));for(const s of r.allKeys)f=t.pieces.get(s),d=l.get(s),f?d?r.samePiece(f,d.piece)||(c.push(d),u.push(a(s,f))):u.push(a(s,f)):d&&c.push(d);for(const a of u)d=s(a,c.filter(e=>r.samePiece(a.piece,e.piece))),d&&(p=[d.pos[0]-a.pos[0],d.pos[1]-a.pos[1]],n.set(a.key,p.concat(p)),o.push(d.key));for(const r of c)o.includes(r.key)||i.set(r.key,r.piece);return{anims:n,fadings:i}}function u(e,t){const n=e.animation.current;if(void 0===n)return void(e.dom.destroyed||e.dom.redrawNow());const r=1-(t-n.start)*n.frequency;if(r<=0)e.animation.current=void 0,e.dom.redrawNow();else{const t=f(r);for(const e of n.plan.anims.values())e[2]=e[0]*t,e[3]=e[1]*t;e.dom.redrawNow(!0),requestAnimationFrame((t=performance.now())=>u(e,t))}}function l(e,t){const n=new Map(t.pieces),r=e(t),o=c(n,t);if(o.anims.size||o.fadings.size){const e=t.animation.current&&t.animation.current.start;t.animation.current={start:performance.now(),frequency:1/t.animation.duration,plan:o},e||u(t,performance.now())}else t.dom.redraw();return r}function f(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1}t.anim=o,t.render=i},"49de":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.start=void 0;const r=n("ae51"),o=n("bfa5"),i=n("1de0"),a=n("4745"),s=n("63bb"),c=n("c8ab");function u(e,t){function n(){r.toggleOrientation(e),t()}return{set(t){t.orientation&&t.orientation!==e.orientation&&n(),(t.fen?a.anim:a.render)(e=>i.configure(e,t),e)},state:e,getFen:()=>o.write(e.pieces),toggleOrientation:n,setPieces(t){a.anim(e=>r.setPieces(e,t),e)},selectSquare(t,n){t?a.anim(e=>r.selectSquare(e,t,n),e):e.selected&&(r.unselect(e),e.dom.redraw())},move(t,n){a.anim(e=>r.baseMove(e,t,n),e)},newPiece(t,n){a.anim(e=>r.baseNewPiece(e,t,n),e)},playPremove(){if(e.premovable.current){if(a.anim(r.playPremove,e))return!0;e.dom.redraw()}return!1},playPredrop(t){if(e.predroppable.current){const n=r.playPredrop(e,t);return e.dom.redraw(),n}return!1},cancelPremove(){a.render(r.unsetPremove,e)},cancelPredrop(){a.render(r.unsetPredrop,e)},cancelMove(){a.render(e=>{r.cancelMove(e),s.cancel(e)},e)},stop(){a.render(e=>{r.stop(e),s.cancel(e)},e)},explode(t){c.explosion(e,t)},setAutoShapes(t){a.render(e=>e.drawable.autoShapes=t,e)},setShapes(t){a.render(e=>e.drawable.shapes=t,e)},getKeyAtDomPos(t){return r.getKeyAtDomPos(t,r.whitePov(e),e.dom.bounds())},redrawAll:t,dragNewPiece(t,n,r){s.dragNewPiece(e,t,n,r)},destroy(){r.stop(e),e.dom.unbind&&e.dom.unbind(),e.dom.destroyed=!0}}}t.start=u},"4de4":function(e,t,n){"use strict";var r=n("23e7"),o=n("b727").filter,i=n("1dde"),a=n("ae40"),s=i("filter"),c=a("filter");r({target:"Array",proto:!0,forced:!s||!c},{filter:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(e,t,n){"use strict";var r=n("0366"),o=n("7b0b"),i=n("9bdd"),a=n("e95a"),s=n("50c4"),c=n("8418"),u=n("35a1");e.exports=function(e){var t,n,l,f,d,p,h=o(e),v="function"==typeof this?this:Array,g=arguments.length,b=g>1?arguments[1]:void 0,m=void 0!==b,y=u(h),w=0;if(m&&(b=r(b,g>2?arguments[2]:void 0,2)),void 0==y||v==Array&&a(y))for(t=s(h.length),n=new v(t);t>w;w++)p=m?b(h[w],w):h[w],c(n,w,p);else for(f=y.call(h),d=f.next,n=new v;!(l=d.call(f)).done;w++)p=m?i(f,b,[l.value,w],!0):l.value,c(n,w,p);return n.length=w,n}},"4ec9":function(e,t,n){"use strict";var r=n("6d61"),o=n("6566");e.exports=r("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),o)},"4ee0":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaults=void 0;const r=n("bfa5"),o=n("b5dc");function i(){return{pieces:r.read(r.initial),orientation:"white",turnColor:"white",coordinates:!0,autoCastle:!0,viewOnly:!1,disableContextMenu:!1,resizable:!0,addPieceZIndex:!1,pieceKey:!1,highlight:{lastMove:!0,check:!0},animation:{enabled:!0,duration:200},movable:{free:!0,color:"both",showDests:!0,events:{},rookCastle:!0},premovable:{enabled:!0,showDests:!0,castle:!0,events:{}},predroppable:{enabled:!1,events:{}},draggable:{enabled:!0,distance:3,autoDistance:!0,showGhost:!0,deleteOnDropOff:!1},dropmode:{active:!1},selectable:{enabled:!0},stats:{dragged:!("ontouchstart"in window)},events:{},drawable:{enabled:!0,visible:!0,defaultSnapToValidMove:!0,eraseOnClick:!0,shapes:[],autoShapes:[],brushes:{green:{key:"g",color:"#15781B",opacity:1,lineWidth:10},red:{key:"r",color:"#882020",opacity:1,lineWidth:10},blue:{key:"b",color:"#003088",opacity:1,lineWidth:10},yellow:{key:"y",color:"#e68f00",opacity:1,lineWidth:10},paleBlue:{key:"pb",color:"#003088",opacity:.4,lineWidth:15},paleGreen:{key:"pg",color:"#15781B",opacity:.4,lineWidth:15},paleRed:{key:"pr",color:"#882020",opacity:.4,lineWidth:15},paleGrey:{key:"pgr",color:"#4a4a4a",opacity:.35,lineWidth:15}},pieces:{baseUrl:"https://lichess1.org/assets/piece/cburnett/"},prevSvgHash:""},hold:o.timer()}}t.defaults=i},"56dd":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ranks=t.files=t.colors=void 0,t.colors=["white","black"],t.files=["a","b","c","d","e","f","g","h"],t.ranks=["1","2","3","4","5","6","7","8"]},"5a34":function(e,t,n){var r=n("44e7");e.exports=function(e){if(r(e))throw TypeError("The method doesn't accept regular expressions");return e}},"60d2":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.drop=t.cancelDropMode=t.setDropMode=void 0;const r=n("ae51"),o=n("b5dc"),i=n("63bb");function a(e,t){e.dropmode={active:!0,piece:t},i.cancel(e)}function s(e){e.dropmode={active:!1}}function c(e,t){if(!e.dropmode.active)return;r.unsetPremove(e),r.unsetPredrop(e);const n=e.dropmode.piece;if(n){e.pieces.set("a0",n);const i=o.eventPosition(t),a=i&&r.getKeyAtDomPos(i,r.whitePov(e),e.dom.bounds());a&&r.dropNewPiece(e,"a0",a)}e.dom.redraw()}t.setDropMode=a,t.cancelDropMode=s,t.drop=c},"63bb":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cancel=t.end=t.move=t.dragNewPiece=t.start=void 0;const r=n("ae51"),o=n("b5dc"),i=n("793c"),a=n("4745");function s(e,t){if(!t.isTrusted||void 0!==t.button&&0!==t.button)return;if(t.touches&&t.touches.length>1)return;const n=e.dom.bounds(),s=o.eventPosition(t),u=r.getKeyAtDomPos(s,r.whitePov(e),n);if(!u)return;const f=e.pieces.get(u),d=e.selected;d||!e.drawable.enabled||!e.drawable.eraseOnClick&&f&&f.color===e.turnColor||i.clear(e),!1===t.cancelable||t.touches&&e.movable.color&&!f&&!d&&!c(e,s)||t.preventDefault();const p=!!e.premovable.current,h=!!e.predroppable.current;e.stats.ctrlKey=t.ctrlKey,e.selected&&r.canMove(e,e.selected,u)?a.anim(e=>r.selectSquare(e,u),e):r.selectSquare(e,u);const g=e.selected===u,b=v(e,u);if(f&&b&&g&&r.isDraggable(e,u)){e.draggable.current={orig:u,piece:f,origPos:s,pos:s,started:e.draggable.autoDistance&&e.stats.dragged,element:b,previouslySelected:d,originTarget:t.target},b.cgDragging=!0,b.classList.add("dragging");const i=e.dom.elements.ghost;i&&(i.className=`ghost ${f.color} ${f.role}`,o.translateAbs(i,o.posToTranslateAbs(n)(o.key2pos(u),r.whitePov(e))),o.setVisible(i,!0)),l(e)}else p&&r.unsetPremove(e),h&&r.unsetPredrop(e);e.dom.redraw()}function c(e,t){const n=r.whitePov(e),i=e.dom.bounds(),a=Math.pow(i.width/8,2);for(const r in e.pieces){const e=o.computeSquareCenter(r,n,i);if(o.distanceSq(e,t)<=a)return!0}return!1}function u(e,t,n,r){const i="a0";e.pieces.set(i,t),e.dom.redraw();const a=o.eventPosition(n);e.draggable.current={orig:i,piece:t,origPos:a,pos:a,started:!0,element:()=>v(e,i),originTarget:n.target,newPiece:!0,force:!!r},l(e)}function l(e){requestAnimationFrame(()=>{var t;const n=e.draggable.current;if(!n)return;(null===(t=e.animation.current)||void 0===t?void 0:t.plan.anims.has(n.orig))&&(e.animation.current=void 0);const r=e.pieces.get(n.orig);if(r&&o.samePiece(r,n.piece)){if(!n.started&&o.distanceSq(n.pos,n.origPos)>=Math.pow(e.draggable.distance,2)&&(n.started=!0),n.started){if("function"===typeof n.element){const e=n.element();if(!e)return;e.cgDragging=!0,e.classList.add("dragging"),n.element=e}const t=e.dom.bounds();o.translateAbs(n.element,[n.pos[0]-t.left-t.width/16,n.pos[1]-t.top-t.height/16])}}else p(e);l(e)})}function f(e,t){e.draggable.current&&(!t.touches||t.touches.length<2)&&(e.draggable.current.pos=o.eventPosition(t))}function d(e,t){const n=e.draggable.current;if(!n)return;if("touchend"===t.type&&!1!==t.cancelable&&t.preventDefault(),"touchend"===t.type&&n.originTarget!==t.target&&!n.newPiece)return void(e.draggable.current=void 0);r.unsetPremove(e),r.unsetPredrop(e);const i=o.eventPosition(t)||n.pos,a=r.getKeyAtDomPos(i,r.whitePov(e),e.dom.bounds());a&&n.started&&n.orig!==a?n.newPiece?r.dropNewPiece(e,n.orig,a,n.force):(e.stats.ctrlKey=t.ctrlKey,r.userMove(e,n.orig,a)&&(e.stats.dragged=!0)):n.newPiece?e.pieces.delete(n.orig):e.draggable.deleteOnDropOff&&!a&&(e.pieces.delete(n.orig),r.callUserFunction(e.events.change)),(n.orig!==n.previouslySelected||n.orig!==a&&a)&&e.selectable.enabled||r.unselect(e),h(e),e.draggable.current=void 0,e.dom.redraw()}function p(e){const t=e.draggable.current;t&&(t.newPiece&&e.pieces.delete(t.orig),e.draggable.current=void 0,r.unselect(e),h(e),e.dom.redraw())}function h(e){const t=e.dom.elements;t.ghost&&o.setVisible(t.ghost,!1)}function v(e,t){let n=e.dom.elements.board.firstChild;while(n){if(n.cgKey===t&&"PIECE"===n.tagName)return n;n=n.nextSibling}}t.start=s,t.dragNewPiece=u,t.move=f,t.end=d,t.cancel=p},6547:function(e,t,n){var r=n("a691"),o=n("1d80"),i=function(e){return function(t,n){var i,a,s=String(o(t)),c=r(n),u=s.length;return c<0||c>=u?e?"":void 0:(i=s.charCodeAt(c),i<55296||i>56319||c+1===u||(a=s.charCodeAt(c+1))<56320||a>57343?e?s.charAt(c):i:e?s.slice(c,c+2):a-56320+(i-55296<<10)+65536)}};e.exports={codeAt:i(!1),charAt:i(!0)}},6566:function(e,t,n){"use strict";var r=n("9bf2").f,o=n("7c73"),i=n("e2cc"),a=n("0366"),s=n("19aa"),c=n("2266"),u=n("7dd0"),l=n("2626"),f=n("83ab"),d=n("f183").fastKey,p=n("69f3"),h=p.set,v=p.getterFor;e.exports={getConstructor:function(e,t,n,u){var l=e((function(e,r){s(e,l,t),h(e,{type:t,index:o(null),first:void 0,last:void 0,size:0}),f||(e.size=0),void 0!=r&&c(r,e[u],{that:e,AS_ENTRIES:n})})),p=v(t),g=function(e,t,n){var r,o,i=p(e),a=b(e,t);return a?a.value=n:(i.last=a={index:o=d(t,!0),key:t,value:n,previous:r=i.last,next:void 0,removed:!1},i.first||(i.first=a),r&&(r.next=a),f?i.size++:e.size++,"F"!==o&&(i.index[o]=a)),e},b=function(e,t){var n,r=p(e),o=d(t);if("F"!==o)return r.index[o];for(n=r.first;n;n=n.next)if(n.key==t)return n};return i(l.prototype,{clear:function(){var e=this,t=p(e),n=t.index,r=t.first;while(r)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete n[r.index],r=r.next;t.first=t.last=void 0,f?t.size=0:e.size=0},delete:function(e){var t=this,n=p(t),r=b(t,e);if(r){var o=r.next,i=r.previous;delete n.index[r.index],r.removed=!0,i&&(i.next=o),o&&(o.previous=i),n.first==r&&(n.first=o),n.last==r&&(n.last=i),f?n.size--:t.size--}return!!r},forEach:function(e){var t,n=p(this),r=a(e,arguments.length>1?arguments[1]:void 0,3);while(t=t?t.next:n.first){r(t.value,t.key,this);while(t&&t.removed)t=t.previous}},has:function(e){return!!b(this,e)}}),i(l.prototype,n?{get:function(e){var t=b(this,e);return t&&t.value},set:function(e,t){return g(this,0===e?0:e,t)}}:{add:function(e){return g(this,e=0===e?0:e,e)}}),f&&r(l.prototype,"size",{get:function(){return p(this).size}}),l},setStrong:function(e,t,n){var r=t+" Iterator",o=v(t),i=v(r);u(e,t,(function(e,t){h(this,{type:r,target:e,state:o(e),kind:t,last:void 0})}),(function(){var e=i(this),t=e.kind,n=e.last;while(n&&n.removed)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),l(t)}}},"65eb":function(e,t,n){"use strict";n.r(t);var r=n("7a23");function o(e,t,n,o,i,a){var s=Object(r["s"])("chessboard");return Object(r["o"])(),Object(r["d"])(s)}var i={class:"blue merida"},a={ref:"board",class:"cg-board-wrap"},s=Object(r["f"])("br",null,null,-1);function c(e,t,n,o,c,u){return Object(r["o"])(),Object(r["d"])("div",i,[Object(r["f"])("div",a,null,512),s])}n("4de4"),n("4160"),n("caad"),n("c975"),n("a15b"),n("d81d"),n("4ec9"),n("d3b7"),n("ac1f"),n("2532"),n("3ca3"),n("1276"),n("159b"),n("ddb0"),n("a4d3"),n("e01a"),n("d28b"),n("a630"),n("fb6a"),n("b0c0"),n("25f0");function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){if(e){if("string"===typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function f(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=l(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}}}var d=n("c5ad"),p=n.n(d),h=n("0a8e"),v={name:"chessboard",data:function(){return{fen:this.fen_prop,free:this.free_prop,showThreats:this.showThreats_prop,onPromotion:this.onPromotion_prop,orientation:this.orientation_prop}},props:{fen_prop:{type:String,default:"rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR"},free_prop:{type:Boolean,default:!1},showThreats_prop:{type:Boolean,default:!1},onPromotion_prop:{type:Function,default:function(){return"q"}},orientation_prop:{type:String,default:"white"}},watch:{fen:function(){this.loadPosition()},orientation:function(){this.loadPosition()},showThreats:function(){this.showThreats&&this.paintThreats()}},methods:{possibleMoves:function(){var e=this,t=new Map;return this.game.SQUARES.forEach((function(n){var r=e.game.moves({square:n,verbose:!0});r.length&&t.set(n,r.map((function(e){return e.to})))})),t},opponentMoves:function(){var e=this.game.pgn(),t=this.game.fen().split(" ");t[1]="w"===t[1]?"b":"w",t=t.join(" ");var n=this.game.load(t);if(n){var r=this.game.moves({verbose:!0});return this.game.load_pgn(e),r}return[]},toColor:function(){return"w"===this.game.turn()?"white":"black"},paintThreats:function(){var e=this.game.moves({verbose:!0}),t=[];e.forEach((function(e){t.push({orig:e.to,brush:"yellow"}),e["captured"]&&t.push({orig:e.from,dest:e.to,brush:"red"}),e["san"].includes("+")&&t.push({orig:e.from,dest:e.to,brush:"blue"})})),this.board.setShapes(t)},calculatePromotion:function(){var e=this.game.moves({verbose:!0});this.promotions=[];var t,n=f(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.promotion&&this.promotions.push(r)}}catch(o){n.e(o)}finally{n.f()}},isPromotion:function(e,t){var n=this.promotions.filter((function(n){return n.from===e&&n.to===t}));return n.length>0},changeTurn:function(){var e=this;return function(t,n){e.isPromotion(t,n)&&(e.promoteTo=e.onPromotion()),e.game.move({from:t,to:n,promotion:e.promoteTo}),e.board.set({fen:e.game.fen(),turnColor:e.toColor(),movable:{color:e.toColor(),dests:e.possibleMoves()}}),e.calculatePromotion(),e.afterMove()}},afterMove:function(){this.showThreats&&this.pointThreats();var e=this.countThreats(this.toColor())||{};e["history"]=this.game.history(),e["fen"]=this.game.fen(),this.$emit("onMove",e)},countThreats:function(e){var t={},n=0,r=0,o=this.game.moves({verbose:!0});return e!==this.toColor()&&(o=this.opponentMoves()),0===o.length?null:(o.forEach((function(e){e["captured"]&&n++,e["san"].includes("+")&&r++})),t["legal_".concat(e)]=this.uniques(o.map((function(e){return e.from+e.to}))).length,t["checks_".concat(e)]=r,t["threat_".concat(e)]=n,t["turn"]=e,t)},uniques:function(e){var t=e.filter((function(e,t,n){return t===n.indexOf(e)}));return t},loadPosition:function(){this.game.load(this.fen),this.board=Object(h["Chessground"])(this.$refs.board,{fen:this.game.fen(),turnColor:this.toColor(),movable:{color:this.toColor(),free:this.free,dests:this.possibleMoves()},orientation:this.orientation}),this.board.set({movable:{events:{after:this.changeTurn()}}}),this.afterMove()}},mounted:function(){this.loadPosition()},created:function(){this.game=new p.a,this.board=null,this.promotions=[],this.promoteTo="q"}};n("8f71");v.render=c;var g=v,b={components:{chessboard:g},mounted:function(){this.axios.get("http://localhost/api/admin").then((function(e){console.log(e)})).catch((function(e){console.log(e)}))}};b.render=o;t["default"]=b},"65f0":function(e,t,n){var r=n("861d"),o=n("e8b5"),i=n("b622"),a=i("species");e.exports=function(e,t){var n;return o(e)&&(n=e.constructor,"function"!=typeof n||n!==Array&&!o(n.prototype)?r(n)&&(n=n[a],null===n&&(n=void 0)):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},"6d61":function(e,t,n){"use strict";var r=n("23e7"),o=n("da84"),i=n("94ca"),a=n("6eeb"),s=n("f183"),c=n("2266"),u=n("19aa"),l=n("861d"),f=n("d039"),d=n("1c7e"),p=n("d44e"),h=n("7156");e.exports=function(e,t,n){var v=-1!==e.indexOf("Map"),g=-1!==e.indexOf("Weak"),b=v?"set":"add",m=o[e],y=m&&m.prototype,w=m,S={},P=function(e){var t=y[e];a(y,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(g&&!l(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return g&&!l(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(g&&!l(e))&&t.call(this,0===e?0:e)}:function(e,n){return t.call(this,0===e?0:e,n),this})};if(i(e,"function"!=typeof m||!(g||y.forEach&&!f((function(){(new m).entries().next()})))))w=n.getConstructor(t,e,v,b),s.REQUIRED=!0;else if(i(e,!0)){var E=new w,k=E[b](g?{}:-0,1)!=E,x=f((function(){E.has(1)})),C=d((function(e){new m(e)})),A=!g&&f((function(){var e=new m,t=5;while(t--)e[b](t,t);return!e.has(-0)}));C||(w=t((function(t,n){u(t,w,e);var r=h(new m,t,w);return void 0!=n&&c(n,r[b],{that:r,AS_ENTRIES:v}),r})),w.prototype=y,y.constructor=w),(x||A)&&(P("delete"),P("has"),v&&P("get")),(A||k)&&P(b),g&&y.clear&&delete y.clear}return S[e]=w,r({global:!0,forced:w!=m},S),p(w,e),g||n.setStrong(w,e,v),w}},7156:function(e,t,n){var r=n("861d"),o=n("d2bb");e.exports=function(e,t,n){var i,a;return o&&"function"==typeof(i=t.constructor)&&i!==n&&r(a=i.prototype)&&a!==n.prototype&&o(e,a),e}},"746f":function(e,t,n){var r=n("428f"),o=n("5135"),i=n("e538"),a=n("9bf2").f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});o(t,e)||a(t,e,{value:i.f(e)})}},"793c":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clear=t.cancel=t.end=t.move=t.processDraw=t.start=void 0;const r=n("ae51"),o=n("b5dc"),i=["green","red","blue","yellow"];function a(e,t){if(t.touches&&t.touches.length>1)return;t.stopPropagation(),t.preventDefault(),t.ctrlKey?r.unselect(e):r.cancelMove(e);const n=o.eventPosition(t),i=r.getKeyAtDomPos(n,r.whitePov(e),e.dom.bounds());i&&(e.drawable.current={orig:i,pos:n,brush:d(t),snapToValidMove:e.drawable.defaultSnapToValidMove},s(e))}function s(e){requestAnimationFrame(()=>{const t=e.drawable.current;if(t){const n=r.getKeyAtDomPos(t.pos,r.whitePov(e),e.dom.bounds());n||(t.snapToValidMove=!1);const o=t.snapToValidMove?r.getSnappedKeyAtDomPos(t.orig,t.pos,r.whitePov(e),e.dom.bounds()):n;o!==t.mouseSq&&(t.mouseSq=o,t.dest=o!==t.orig?o:void 0,e.dom.redrawNow()),s(e)}})}function c(e,t){e.drawable.current&&(e.drawable.current.pos=o.eventPosition(t))}function u(e){const t=e.drawable.current;t&&(t.mouseSq&&p(e.drawable,t),l(e))}function l(e){e.drawable.current&&(e.drawable.current=void 0,e.dom.redraw())}function f(e){e.drawable.shapes.length&&(e.drawable.shapes=[],e.dom.redraw(),h(e.drawable))}function d(e){var t;const n=(e.shiftKey||e.ctrlKey)&&o.isRightButton(e),r=e.altKey||e.metaKey||(null===(t=e.getModifierState)||void 0===t?void 0:t.call(e,"AltGraph"));return i[(n?1:0)+(r?2:0)]}function p(e,t){const n=e=>e.orig===t.orig&&e.dest===t.dest,r=e.shapes.find(n);r&&(e.shapes=e.shapes.filter(e=>!n(e))),r&&r.brush===t.brush||e.shapes.push(t),h(e)}function h(e){e.onChange&&e.onChange(e.shapes)}t.start=a,t.processDraw=s,t.move=c,t.end=u,t.cancel=l,t.clear=f},"80cc":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderWrap=void 0;const r=n("b5dc"),o=n("56dd"),i=n("fa94");function a(e,t,n){e.innerHTML="",e.classList.add("cg-wrap");for(const r of o.colors)e.classList.toggle("orientation-"+r,t.orientation===r);e.classList.toggle("manipulable",!t.viewOnly);const a=r.createEl("cg-helper");e.appendChild(a);const c=r.createEl("cg-container");a.appendChild(c);const u=r.createEl("cg-board");let l,f;if(c.appendChild(u),t.drawable.visible&&!n&&(l=i.createElement("svg"),l.appendChild(i.createElement("defs")),c.appendChild(l)),t.coordinates){const e="black"===t.orientation?" black":"";c.appendChild(s(o.ranks,"ranks"+e)),c.appendChild(s(o.files,"files"+e))}return t.draggable.showGhost&&!n&&(f=r.createEl("piece","ghost"),r.setVisible(f,!1),c.appendChild(f)),{board:u,container:c,ghost:f,svg:l}}function s(e,t){const n=r.createEl("coords",t);let o;for(const i of e)o=r.createEl("coord"),o.textContent=i,n.appendChild(o);return n}t.renderWrap=a},8418:function(e,t,n){"use strict";var r=n("c04e"),o=n("9bf2"),i=n("5c6c");e.exports=function(e,t,n){var a=r(t);a in e?o.f(e,a,i(0,n)):e[a]=n}},"8aa5":function(e,t,n){"use strict";var r=n("6547").charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},"8f71":function(e,t,n){"use strict";n("0ae7")},9263:function(e,t,n){"use strict";var r=n("ad6d"),o=n("9f7f"),i=RegExp.prototype.exec,a=String.prototype.replace,s=i,c=function(){var e=/a/,t=/b*/g;return i.call(e,"a"),i.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),u=o.UNSUPPORTED_Y||o.BROKEN_CARET,l=void 0!==/()??/.exec("")[1],f=c||l||u;f&&(s=function(e){var t,n,o,s,f=this,d=u&&f.sticky,p=r.call(f),h=f.source,v=0,g=e;return d&&(p=p.replace("y",""),-1===p.indexOf("g")&&(p+="g"),g=String(e).slice(f.lastIndex),f.lastIndex>0&&(!f.multiline||f.multiline&&"\n"!==e[f.lastIndex-1])&&(h="(?: "+h+")",g=" "+g,v++),n=new RegExp("^(?:"+h+")",p)),l&&(n=new RegExp("^"+h+"$(?!\\s)",p)),c&&(t=f.lastIndex),o=i.call(d?n:f,g),d?o?(o.input=o.input.slice(v),o[0]=o[0].slice(v),o.index=f.lastIndex,f.lastIndex+=o[0].length):f.lastIndex=0:c&&o&&(f.lastIndex=f.global?o.index+o[0].length:t),l&&o&&o.length>1&&a.call(o[0],n,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(o[s]=void 0)})),o}),e.exports=s},"9bdd":function(e,t,n){var r=n("825a"),o=n("2a62");e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(a){throw o(e),a}}},"9be1":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.premove=t.queen=t.knight=void 0;const r=n("b5dc");function o(e,t){return Math.abs(e-t)}function i(e){return(t,n,r,i)=>o(t,r)<2&&("white"===e?i===n+1||n<=1&&i===n+2&&t===r:i===n-1||n>=6&&i===n-2&&t===r)}t.knight=(e,t,n,r)=>{const i=o(e,n),a=o(t,r);return 1===i&&2===a||2===i&&1===a};const a=(e,t,n,r)=>o(e,n)===o(t,r),s=(e,t,n,r)=>e===n||t===r;function c(e,t,n){return(r,i,a,s)=>o(r,a)<2&&o(i,s)<2||n&&i===s&&i===("white"===e?0:7)&&(4===r&&(2===a&&t.includes(0)||6===a&&t.includes(7))||t.includes(a))}function u(e,t){const n="white"===t?"1":"8",o=[];for(const[i,a]of e)i[1]===n&&a.color===t&&"rook"===a.role&&o.push(r.key2pos(i)[0]);return o}function l(e,n,o){const l=e.get(n);if(!l)return[];const f=r.key2pos(n),d=l.role,p="pawn"===d?i(l.color):"knight"===d?t.knight:"bishop"===d?a:"rook"===d?s:"queen"===d?t.queen:c(l.color,u(e,l.color),o);return r.allPos.filter(e=>(f[0]!==e[0]||f[1]!==e[1])&&p(f[0],f[1],e[0],e[1])).map(r.pos2key)}t.queen=(e,t,n,r)=>a(e,t,n,r)||s(e,t,n,r),t.premove=l},"9f7f":function(e,t,n){"use strict";var r=n("d039");function o(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=r((function(){var e=o("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=r((function(){var e=o("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},a15b:function(e,t,n){"use strict";var r=n("23e7"),o=n("44ad"),i=n("fc6a"),a=n("a640"),s=[].join,c=o!=Object,u=a("join",",");r({target:"Array",proto:!0,forced:c||!u},{join:function(e){return s.call(i(this),void 0===e?",":e)}})},a4d3:function(e,t,n){"use strict";var r=n("23e7"),o=n("da84"),i=n("d066"),a=n("c430"),s=n("83ab"),c=n("4930"),u=n("fdbf"),l=n("d039"),f=n("5135"),d=n("e8b5"),p=n("861d"),h=n("825a"),v=n("7b0b"),g=n("fc6a"),b=n("c04e"),m=n("5c6c"),y=n("7c73"),w=n("df75"),S=n("241c"),P=n("057f"),E=n("7418"),k=n("06cf"),x=n("9bf2"),C=n("d1e7"),A=n("9112"),_=n("6eeb"),O=n("5692"),T=n("f772"),M=n("d012"),R=n("90e3"),I=n("b622"),L=n("e538"),D=n("746f"),N=n("d44e"),j=n("69f3"),q=n("b727").forEach,K=T("hidden"),U="Symbol",$="prototype",B=I("toPrimitive"),Q=j.set,F=j.getterFor(U),W=Object[$],z=o.Symbol,G=i("JSON","stringify"),V=k.f,H=x.f,Z=P.f,X=C.f,Y=O("symbols"),J=O("op-symbols"),ee=O("string-to-symbol-registry"),te=O("symbol-to-string-registry"),ne=O("wks"),re=o.QObject,oe=!re||!re[$]||!re[$].findChild,ie=s&&l((function(){return 7!=y(H({},"a",{get:function(){return H(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=V(W,t);r&&delete W[t],H(e,t,n),r&&e!==W&&H(W,t,r)}:H,ae=function(e,t){var n=Y[e]=y(z[$]);return Q(n,{type:U,tag:e,description:t}),s||(n.description=t),n},se=u?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof z},ce=function(e,t,n){e===W&&ce(J,t,n),h(e);var r=b(t,!0);return h(n),f(Y,r)?(n.enumerable?(f(e,K)&&e[K][r]&&(e[K][r]=!1),n=y(n,{enumerable:m(0,!1)})):(f(e,K)||H(e,K,m(1,{})),e[K][r]=!0),ie(e,r,n)):H(e,r,n)},ue=function(e,t){h(e);var n=g(t),r=w(n).concat(he(n));return q(r,(function(t){s&&!fe.call(n,t)||ce(e,t,n[t])})),e},le=function(e,t){return void 0===t?y(e):ue(y(e),t)},fe=function(e){var t=b(e,!0),n=X.call(this,t);return!(this===W&&f(Y,t)&&!f(J,t))&&(!(n||!f(this,t)||!f(Y,t)||f(this,K)&&this[K][t])||n)},de=function(e,t){var n=g(e),r=b(t,!0);if(n!==W||!f(Y,r)||f(J,r)){var o=V(n,r);return!o||!f(Y,r)||f(n,K)&&n[K][r]||(o.enumerable=!0),o}},pe=function(e){var t=Z(g(e)),n=[];return q(t,(function(e){f(Y,e)||f(M,e)||n.push(e)})),n},he=function(e){var t=e===W,n=Z(t?J:g(e)),r=[];return q(n,(function(e){!f(Y,e)||t&&!f(W,e)||r.push(Y[e])})),r};if(c||(z=function(){if(this instanceof z)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=R(e),n=function(e){this===W&&n.call(J,e),f(this,K)&&f(this[K],t)&&(this[K][t]=!1),ie(this,t,m(1,e))};return s&&oe&&ie(W,t,{configurable:!0,set:n}),ae(t,e)},_(z[$],"toString",(function(){return F(this).tag})),_(z,"withoutSetter",(function(e){return ae(R(e),e)})),C.f=fe,x.f=ce,k.f=de,S.f=P.f=pe,E.f=he,L.f=function(e){return ae(I(e),e)},s&&(H(z[$],"description",{configurable:!0,get:function(){return F(this).description}}),a||_(W,"propertyIsEnumerable",fe,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!c,sham:!c},{Symbol:z}),q(w(ne),(function(e){D(e)})),r({target:U,stat:!0,forced:!c},{for:function(e){var t=String(e);if(f(ee,t))return ee[t];var n=z(t);return ee[t]=n,te[n]=t,n},keyFor:function(e){if(!se(e))throw TypeError(e+" is not a symbol");if(f(te,e))return te[e]},useSetter:function(){oe=!0},useSimple:function(){oe=!1}}),r({target:"Object",stat:!0,forced:!c,sham:!s},{create:le,defineProperty:ce,defineProperties:ue,getOwnPropertyDescriptor:de}),r({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:pe,getOwnPropertySymbols:he}),r({target:"Object",stat:!0,forced:l((function(){E.f(1)}))},{getOwnPropertySymbols:function(e){return E.f(v(e))}}),G){var ve=!c||l((function(){var e=z();return"[null]"!=G([e])||"{}"!=G({a:e})||"{}"!=G(Object(e))}));r({target:"JSON",stat:!0,forced:ve},{stringify:function(e,t,n){var r,o=[e],i=1;while(arguments.length>i)o.push(arguments[i++]);if(r=t,(p(t)||void 0!==e)&&!se(e))return d(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!se(t))return t}),o[1]=t,G.apply(null,o)}})}z[$][B]||A(z[$],B,z[$].valueOf),N(z,U),M[K]=!0},a630:function(e,t,n){var r=n("23e7"),o=n("4df4"),i=n("1c7e"),a=!i((function(e){Array.from(e)}));r({target:"Array",stat:!0,forced:a},{from:o})},a640:function(e,t,n){"use strict";var r=n("d039");e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){throw 1},1)}))}},ab13:function(e,t,n){var r=n("b622"),o=r("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[o]=!1,"/./"[e](t)}catch(r){}}return!1}},ac1f:function(e,t,n){"use strict";var r=n("23e7"),o=n("9263");r({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},ad6d:function(e,t,n){"use strict";var r=n("825a");e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},ae40:function(e,t,n){var r=n("83ab"),o=n("d039"),i=n("5135"),a=Object.defineProperty,s={},c=function(e){throw e};e.exports=function(e,t){if(i(s,e))return s[e];t||(t={});var n=[][e],u=!!i(t,"ACCESSORS")&&t.ACCESSORS,l=i(t,0)?t[0]:c,f=i(t,1)?t[1]:void 0;return s[e]=!!n&&!o((function(){if(u&&!r)return!0;var e={length:-1};u?a(e,1,{enumerable:!0,get:c}):e[1]=1,n.call(e,l,f)}))}},ae51:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.whitePov=t.getSnappedKeyAtDomPos=t.getKeyAtDomPos=t.stop=t.cancelMove=t.playPredrop=t.playPremove=t.isDraggable=t.canMove=t.unselect=t.setSelected=t.selectSquare=t.dropNewPiece=t.userMove=t.baseNewPiece=t.baseMove=t.unsetPredrop=t.unsetPremove=t.setCheck=t.setPieces=t.reset=t.toggleOrientation=t.callUserFunction=void 0;const r=n("b5dc"),o=n("9be1");function i(e,...t){e&&setTimeout(()=>e(...t),1)}function a(e){e.orientation=r.opposite(e.orientation),e.animation.current=e.draggable.current=e.selected=void 0}function s(e){e.lastMove=void 0,P(e),f(e),p(e)}function c(e,t){for(const[n,r]of t)r?e.pieces.set(n,r):e.pieces.delete(n)}function u(e,t){if(e.check=void 0,!0===t&&(t=e.turnColor),t)for(const[n,r]of e.pieces)"king"===r.role&&r.color===t&&(e.check=n)}function l(e,t,n,r){p(e),e.premovable.current=[t,n],i(e.premovable.events.set,t,n,r)}function f(e){e.premovable.current&&(e.premovable.current=void 0,i(e.premovable.events.unset))}function d(e,t,n){f(e),e.predroppable.current={role:t,key:n},i(e.predroppable.events.set,t,n)}function p(e){const t=e.predroppable;t.current&&(t.current=void 0,i(t.events.unset))}function h(e,t,n){if(!e.autoCastle)return!1;const o=e.pieces.get(t);if(!o||"king"!==o.role)return!1;const i=r.key2pos(t),a=r.key2pos(n);if(0!==i[1]&&7!==i[1]||i[1]!==a[1])return!1;4!==i[0]||e.pieces.has(n)||(6===a[0]?n=r.pos2key([7,a[1]]):2===a[0]&&(n=r.pos2key([0,a[1]])));const s=e.pieces.get(n);return!(!s||s.color!==o.color||"rook"!==s.role)&&(e.pieces.delete(t),e.pieces.delete(n),i[0]<a[0]?(e.pieces.set(r.pos2key([6,a[1]]),o),e.pieces.set(r.pos2key([5,a[1]]),s)):(e.pieces.set(r.pos2key([2,a[1]]),o),e.pieces.set(r.pos2key([3,a[1]]),s)),!0)}function v(e,t,n){const r=e.pieces.get(t),o=e.pieces.get(n);if(t===n||!r)return!1;const a=o&&o.color!==r.color?o:void 0;return n===e.selected&&P(e),i(e.events.move,t,n,a),h(e,t,n)||(e.pieces.set(n,r),e.pieces.delete(t)),e.lastMove=[t,n],e.check=void 0,i(e.events.change),a||!0}function g(e,t,n,o){if(e.pieces.has(n)){if(!o)return!1;e.pieces.delete(n)}return i(e.events.dropNewPiece,t,n),e.pieces.set(n,t),e.lastMove=[n],e.check=void 0,i(e.events.change),e.movable.dests=void 0,e.turnColor=r.opposite(e.turnColor),!0}function b(e,t,n){const o=v(e,t,n);return o&&(e.movable.dests=void 0,e.turnColor=r.opposite(e.turnColor),e.animation.current=void 0),o}function m(e,t,n){if(k(e,t,n)){const r=b(e,t,n);if(r){const o=e.hold.stop();P(e);const a={premove:!1,ctrlKey:e.stats.ctrlKey,holdTime:o};return!0!==r&&(a.captured=r),i(e.movable.events.after,t,n,a),!0}}else if(A(e,t,n))return l(e,t,n,{ctrlKey:e.stats.ctrlKey}),P(e),!0;return P(e),!1}function y(e,t,n,r){const o=e.pieces.get(t);o&&(x(e,t,n)||r)?(e.pieces.delete(t),g(e,o,n,r),i(e.movable.events.afterNewPiece,o.role,n,{predrop:!1})):o&&_(e,t,n)?d(e,o.role,n):(f(e),p(e)),e.pieces.delete(t),P(e)}function w(e,t,n){if(i(e.events.select,t),e.selected){if(e.selected===t&&!e.draggable.enabled)return P(e),void e.hold.cancel();if((e.selectable.enabled||n)&&e.selected!==t&&m(e,e.selected,t))return void(e.stats.dragged=!1)}(E(e,t)||C(e,t))&&(S(e,t),e.hold.start())}function S(e,t){e.selected=t,C(e,t)?e.premovable.dests=o.premove(e.pieces,t,e.premovable.castle):e.premovable.dests=void 0}function P(e){e.selected=void 0,e.premovable.dests=void 0,e.hold.cancel()}function E(e,t){const n=e.pieces.get(t);return!!n&&("both"===e.movable.color||e.movable.color===n.color&&e.turnColor===n.color)}function k(e,t,n){var r,o;return t!==n&&E(e,t)&&(e.movable.free||!!(null===(o=null===(r=e.movable.dests)||void 0===r?void 0:r.get(t))||void 0===o?void 0:o.includes(n)))}function x(e,t,n){const r=e.pieces.get(t);return!!r&&(t===n||!e.pieces.has(n))&&("both"===e.movable.color||e.movable.color===r.color&&e.turnColor===r.color)}function C(e,t){const n=e.pieces.get(t);return!!n&&e.premovable.enabled&&e.movable.color===n.color&&e.turnColor!==n.color}function A(e,t,n){return t!==n&&C(e,t)&&o.premove(e.pieces,t,e.premovable.castle).includes(n)}function _(e,t,n){const r=e.pieces.get(t),o=e.pieces.get(n);return!!r&&(!o||o.color!==e.movable.color)&&e.predroppable.enabled&&("pawn"!==r.role||"1"!==n[1]&&"8"!==n[1])&&e.movable.color===r.color&&e.turnColor!==r.color}function O(e,t){const n=e.pieces.get(t);return!!n&&e.draggable.enabled&&("both"===e.movable.color||e.movable.color===n.color&&(e.turnColor===n.color||e.premovable.enabled))}function T(e){const t=e.premovable.current;if(!t)return!1;const n=t[0],r=t[1];let o=!1;if(k(e,n,r)){const t=b(e,n,r);if(t){const a={premove:!0};!0!==t&&(a.captured=t),i(e.movable.events.after,n,r,a),o=!0}}return f(e),o}function M(e,t){const n=e.predroppable.current;let r=!1;if(!n)return!1;if(t(n)){const t={role:n.role,color:e.movable.color};g(e,t,n.key)&&(i(e.movable.events.afterNewPiece,n.role,n.key,{predrop:!0}),r=!0)}return p(e),r}function R(e){f(e),p(e),P(e)}function I(e){e.movable.color=e.movable.dests=e.animation.current=void 0,R(e)}function L(e,t,n){let o=Math.floor(8*(e[0]-n.left)/n.width);t||(o=7-o);let i=7-Math.floor(8*(e[1]-n.top)/n.height);return t||(i=7-i),o>=0&&o<8&&i>=0&&i<8?r.pos2key([o,i]):void 0}function D(e,t,n,i){const a=r.key2pos(e),s=r.allPos.filter(e=>o.queen(a[0],a[1],e[0],e[1])||o.knight(a[0],a[1],e[0],e[1])),c=s.map(e=>r.computeSquareCenter(r.pos2key(e),n,i)),u=c.map(e=>r.distanceSq(t,e)),[,l]=u.reduce((e,t,n)=>e[0]<t?e:[t,n],[u[0],0]);return r.pos2key(s[l])}function N(e){return"white"===e.orientation}t.callUserFunction=i,t.toggleOrientation=a,t.reset=s,t.setPieces=c,t.setCheck=u,t.unsetPremove=f,t.unsetPredrop=p,t.baseMove=v,t.baseNewPiece=g,t.userMove=m,t.dropNewPiece=y,t.selectSquare=w,t.setSelected=S,t.unselect=P,t.canMove=k,t.isDraggable=O,t.playPremove=T,t.playPredrop=M,t.cancelMove=R,t.stop=I,t.getKeyAtDomPos=L,t.getSnappedKeyAtDomPos=D,t.whitePov=N},b0c0:function(e,t,n){var r=n("83ab"),o=n("9bf2").f,i=Function.prototype,a=i.toString,s=/^\s*function ([^ (]*)/,c="name";r&&!(c in i)&&o(i,c,{configurable:!0,get:function(){try{return a.call(this).match(s)[1]}catch(e){return""}}})},b5dc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.computeSquareCenter=t.createEl=t.isRightButton=t.eventPosition=t.setVisible=t.translateRel=t.translateAbs=t.posToTranslateRel=t.posToTranslateAbs=t.samePiece=t.distanceSq=t.opposite=t.timer=t.memo=t.allPos=t.key2pos=t.pos2key=t.allKeys=t.invRanks=void 0;const r=n("56dd");function o(e){let t;const n=()=>(void 0===t&&(t=e()),t);return n.clear=()=>{t=void 0},n}t.invRanks=[...r.ranks].reverse(),t.allKeys=Array.prototype.concat(...r.files.map(e=>r.ranks.map(t=>e+t))),t.pos2key=e=>t.allKeys[8*e[0]+e[1]],t.key2pos=e=>[e.charCodeAt(0)-97,e.charCodeAt(1)-49],t.allPos=t.allKeys.map(t.key2pos),t.memo=o,t.timer=()=>{let e;return{start(){e=performance.now()},cancel(){e=void 0},stop(){if(!e)return 0;const t=performance.now()-e;return e=void 0,t}}},t.opposite=e=>"white"===e?"black":"white",t.distanceSq=(e,t)=>{const n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r},t.samePiece=(e,t)=>e.role===t.role&&e.color===t.color;const i=(e,t,n,r)=>[(t?e[0]:7-e[0])*n,(t?7-e[1]:e[1])*r];function a(e,n,r){const o=t.key2pos(e);return n||(o[0]=7-o[0],o[1]=7-o[1]),[r.left+r.width*o[0]/8+r.width/16,r.top+r.height*(7-o[1])/8+r.height/16]}t.posToTranslateAbs=e=>{const t=e.width/8,n=e.height/8;return(e,r)=>i(e,r,t,n)},t.posToTranslateRel=(e,t)=>i(e,t,100,100),t.translateAbs=(e,t)=>{e.style.transform=`translate(${t[0]}px,${t[1]}px)`},t.translateRel=(e,t)=>{e.style.transform=`translate(${t[0]}%,${t[1]}%)`},t.setVisible=(e,t)=>{e.style.visibility=t?"visible":"hidden"},t.eventPosition=e=>{var t;return e.clientX||0===e.clientX?[e.clientX,e.clientY]:(null===(t=e.targetTouches)||void 0===t?void 0:t[0])?[e.targetTouches[0].clientX,e.targetTouches[0].clientY]:void 0},t.isRightButton=e=>2===e.buttons||2===e.button,t.createEl=(e,t)=>{const n=document.createElement(e);return t&&(n.className=t),n},t.computeSquareCenter=a},b727:function(e,t,n){var r=n("0366"),o=n("44ad"),i=n("7b0b"),a=n("50c4"),s=n("65f0"),c=[].push,u=function(e){var t=1==e,n=2==e,u=3==e,l=4==e,f=6==e,d=7==e,p=5==e||f;return function(h,v,g,b){for(var m,y,w=i(h),S=o(w),P=r(v,g,3),E=a(S.length),k=0,x=b||s,C=t?x(h,E):n||d?x(h,0):void 0;E>k;k++)if((p||k in S)&&(m=S[k],y=P(m,k,w),e))if(t)C[k]=y;else if(y)switch(e){case 3:return!0;case 5:return m;case 6:return k;case 2:c.call(C,m)}else switch(e){case 4:return!1;case 7:c.call(C,m)}return f?-1:u||l?l:C}};e.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterOut:u(7)}},bb2f:function(e,t,n){var r=n("d039");e.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},bfa5:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.write=t.read=t.initial=void 0;const r=n("b5dc"),o=n("56dd");t.initial="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR";const i={p:"pawn",r:"rook",n:"knight",b:"bishop",q:"queen",k:"king"},a={pawn:"p",rook:"r",knight:"n",bishop:"b",queen:"q",king:"k"};function s(e){"start"===e&&(e=t.initial);const n=new Map;let o=7,a=0;for(const t of e)switch(t){case" ":return n;case"/":if(--o,o<0)return n;a=0;break;case"~":const e=n.get(r.pos2key([a,o]));e&&(e.promoted=!0);break;default:const s=t.charCodeAt(0);if(s<57)a+=s-48;else{const e=t.toLowerCase();n.set(r.pos2key([a,o]),{role:i[e],color:t===e?"black":"white"}),++a}}return n}function c(e){return r.invRanks.map(t=>o.files.map(n=>{const r=e.get(n+t);if(r){const e=a[r.role];return"white"===r.color?e.toUpperCase():e}return"1"}).join("")).join("/").replace(/1{2,}/g,e=>e.length.toString())}t.read=s,t.write=c},c5ad:function(e,t,n){var r,o=function(e){var t="b",n="w",r=-1,o="p",i="n",a="b",s="r",c="q",u="k",l="pnbrqkPNBRQK",f="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",d=["1-0","0-1","1/2-1/2","*"],p={b:[16,32,17,15],w:[-16,-32,-17,-15]},h={n:[-18,-33,-31,-14,18,33,31,14],b:[-17,-15,17,15],r:[-16,1,16,-1],q:[-17,-16,-15,1,17,16,15,-1],k:[-17,-16,-15,1,17,16,15,-1]},v=[20,0,0,0,0,0,0,24,0,0,0,0,0,0,20,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,24,24,24,24,24,24,56,0,56,24,24,24,24,24,24,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,20,0,0,0,0,0,0,24,0,0,0,0,0,0,20],g=[17,0,0,0,0,0,0,16,0,0,0,0,0,0,15,0,0,17,0,0,0,0,0,16,0,0,0,0,0,15,0,0,0,0,17,0,0,0,0,16,0,0,0,0,15,0,0,0,0,0,0,17,0,0,0,16,0,0,0,15,0,0,0,0,0,0,0,0,17,0,0,16,0,0,15,0,0,0,0,0,0,0,0,0,0,17,0,16,0,15,0,0,0,0,0,0,0,0,0,0,0,0,17,16,15,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,-15,-16,-17,0,0,0,0,0,0,0,0,0,0,0,0,-15,0,-16,0,-17,0,0,0,0,0,0,0,0,0,0,-15,0,0,-16,0,0,-17,0,0,0,0,0,0,0,0,-15,0,0,0,-16,0,0,0,-17,0,0,0,0,0,0,-15,0,0,0,0,-16,0,0,0,0,-17,0,0,0,0,-15,0,0,0,0,0,-16,0,0,0,0,0,-17,0,0,-15,0,0,0,0,0,0,-16,0,0,0,0,0,0,-17],b={p:0,n:1,b:2,r:3,q:4,k:5},m={NORMAL:"n",CAPTURE:"c",BIG_PAWN:"b",EP_CAPTURE:"e",PROMOTION:"p",KSIDE_CASTLE:"k",QSIDE_CASTLE:"q"},y={NORMAL:1,CAPTURE:2,BIG_PAWN:4,EP_CAPTURE:8,PROMOTION:16,KSIDE_CASTLE:32,QSIDE_CASTLE:64},w=7,S=6,P=1,E=0,k={a8:0,b8:1,c8:2,d8:3,e8:4,f8:5,g8:6,h8:7,a7:16,b7:17,c7:18,d7:19,e7:20,f7:21,g7:22,h7:23,a6:32,b6:33,c6:34,d6:35,e6:36,f6:37,g6:38,h6:39,a5:48,b5:49,c5:50,d5:51,e5:52,f5:53,g5:54,h5:55,a4:64,b4:65,c4:66,d4:67,e4:68,f4:69,g4:70,h4:71,a3:80,b3:81,c3:82,d3:83,e3:84,f3:85,g3:86,h3:87,a2:96,b2:97,c2:98,d2:99,e2:100,f2:101,g2:102,h2:103,a1:112,b1:113,c1:114,d1:115,e1:116,f1:117,g1:118,h1:119},x={w:[{square:k.a1,flag:y.QSIDE_CASTLE},{square:k.h1,flag:y.KSIDE_CASTLE}],b:[{square:k.a8,flag:y.QSIDE_CASTLE},{square:k.h8,flag:y.KSIDE_CASTLE}]},C=new Array(128),A={w:r,b:r},_=n,O={w:0,b:0},T=r,M=0,R=1,I=[],L={},D={};function N(e){"undefined"===typeof e&&(e=!1),C=new Array(128),A={w:r,b:r},_=n,O={w:0,b:0},T=r,M=0,R=1,I=[],e||(L={}),D={},Q($())}function j(){var e=[],t={},n=function(e){e in D&&(t[e]=D[e])};while(I.length>0)e.push(ae());n($());while(e.length>0)ie(e.pop()),n($());D=t}function q(){K(f)}function K(e,o){"undefined"===typeof o&&(o=!1);var i=e.split(/\s+/),a=i[0],s=0;if(!U(e).valid)return!1;N(o);for(var c=0;c<a.length;c++){var u=a.charAt(c);if("/"===u)s+=8;else if(he(u))s+=parseInt(u,10);else{var l=u<"a"?n:t;W({type:u.toLowerCase(),color:l},de(s)),s++}}return _=i[1],i[2].indexOf("K")>-1&&(O.w|=y.KSIDE_CASTLE),i[2].indexOf("Q")>-1&&(O.w|=y.QSIDE_CASTLE),i[2].indexOf("k")>-1&&(O.b|=y.KSIDE_CASTLE),i[2].indexOf("q")>-1&&(O.b|=y.QSIDE_CASTLE),T="-"===i[3]?r:k[i[3]],M=parseInt(i[4],10),R=parseInt(i[5],10),Q($()),!0}function U(e){var t={0:"No errors.",1:"FEN string must contain six space-delimited fields.",2:"6th field (move number) must be a positive integer.",3:"5th field (half move counter) must be a non-negative integer.",4:"4th field (en-passant square) is invalid.",5:"3rd field (castling availability) is invalid.",6:"2nd field (side to move) is invalid.",7:"1st field (piece positions) does not contain 8 '/'-delimited rows.",8:"1st field (piece positions) is invalid [consecutive numbers].",9:"1st field (piece positions) is invalid [invalid piece].",10:"1st field (piece positions) is invalid [row too large].",11:"Illegal en-passant square"},n=e.split(/\s+/);if(6!==n.length)return{valid:!1,error_number:1,error:t[1]};if(isNaN(n[5])||parseInt(n[5],10)<=0)return{valid:!1,error_number:2,error:t[2]};if(isNaN(n[4])||parseInt(n[4],10)<0)return{valid:!1,error_number:3,error:t[3]};if(!/^(-|[abcdefgh][36])$/.test(n[3]))return{valid:!1,error_number:4,error:t[4]};if(!/^(KQ?k?q?|Qk?q?|kq?|q|-)$/.test(n[2]))return{valid:!1,error_number:5,error:t[5]};if(!/^(w|b)$/.test(n[1]))return{valid:!1,error_number:6,error:t[6]};var r=n[0].split("/");if(8!==r.length)return{valid:!1,error_number:7,error:t[7]};for(var o=0;o<r.length;o++){for(var i=0,a=!1,s=0;s<r[o].length;s++)if(isNaN(r[o][s])){if(!/^[prnbqkPRNBQK]$/.test(r[o][s]))return{valid:!1,error_number:9,error:t[9]};i+=1,a=!1}else{if(a)return{valid:!1,error_number:8,error:t[8]};i+=parseInt(r[o][s],10),a=!0}if(8!==i)return{valid:!1,error_number:10,error:t[10]}}return"3"==n[3][1]&&"w"==n[1]||"6"==n[3][1]&&"b"==n[1]?{valid:!1,error_number:11,error:t[11]}:{valid:!0,error_number:0,error:t[0]}}function $(){for(var e=0,o="",i=k.a8;i<=k.h1;i++){if(null==C[i])e++;else{e>0&&(o+=e,e=0);var a=C[i].color,s=C[i].type;o+=a===n?s.toUpperCase():s.toLowerCase()}i+1&136&&(e>0&&(o+=e),i!==k.h1&&(o+="/"),e=0,i+=8)}var c="";O[n]&y.KSIDE_CASTLE&&(c+="K"),O[n]&y.QSIDE_CASTLE&&(c+="Q"),O[t]&y.KSIDE_CASTLE&&(c+="k"),O[t]&y.QSIDE_CASTLE&&(c+="q"),c=c||"-";var u=T===r?"-":de(T);return[o,_,c,u,M,R].join(" ")}function B(e){for(var t=0;t<e.length;t+=2)"string"===typeof e[t]&&"string"===typeof e[t+1]&&(L[e[t]]=e[t+1]);return L}function Q(e){I.length>0||(e!==f?(L["SetUp"]="1",L["FEN"]=e):(delete L["SetUp"],delete L["FEN"]))}function F(e){var t=C[k[e]];return t?{type:t.type,color:t.color}:null}function W(e,t){if(!("type"in e)||!("color"in e))return!1;if(-1===l.indexOf(e.type.toLowerCase()))return!1;if(!(t in k))return!1;var n=k[t];return(e.type!=u||A[e.color]==r||A[e.color]==n)&&(C[n]={type:e.type,color:e.color},e.type===u&&(A[e.color]=n),Q($()),!0)}function z(e){var t=F(e);return C[k[e]]=null,t&&t.type===u&&(A[t.color]=r),Q($()),t}function G(e,t,n,r,i){var a={color:_,from:t,to:n,flags:r,piece:e[t].type};return i&&(a.flags|=y.PROMOTION,a.promotion=i),e[n]?a.captured=e[n].type:r&y.EP_CAPTURE&&(a.captured=o),a}function V(e){function t(e,t,n,r,u){if(e[n].type!==o||le(r)!==E&&le(r)!==w)t.push(G(e,n,r,u));else for(var l=[c,s,a,i],f=0,d=l.length;f<d;f++)t.push(G(e,n,r,u,l[f]))}var n=[],r=_,u=pe(r),l={b:P,w:S},f=k.a8,d=k.h1,v=!1,g="undefined"===typeof e||!("legal"in e)||e.legal;if("undefined"!==typeof e&&"square"in e){if(!(e.square in k))return[];f=d=k[e.square],v=!0}for(var b=f;b<=d;b++)if(136&b)b+=7;else{var m=C[b];if(null!=m&&m.color===r)if(m.type===o){var x=b+p[r][0];if(null==C[x]){t(C,n,b,x,y.NORMAL);x=b+p[r][1];l[r]===le(b)&&null==C[x]&&t(C,n,b,x,y.BIG_PAWN)}for(M=2;M<4;M++){x=b+p[r][M];136&x||(null!=C[x]&&C[x].color===u?t(C,n,b,x,y.CAPTURE):x===T&&t(C,n,b,T,y.EP_CAPTURE))}}else for(var M=0,R=h[m.type].length;M<R;M++){var I=h[m.type][M];x=b;while(1){if(x+=I,136&x)break;if(null!=C[x]){if(C[x].color===r)break;t(C,n,b,x,y.CAPTURE);break}if(t(C,n,b,x,y.NORMAL),"n"===m.type||"k"===m.type)break}}}if(!v||d===A[r]){if(O[r]&y.KSIDE_CASTLE){var L=A[r],D=L+2;null!=C[L+1]||null!=C[D]||X(u,A[r])||X(u,L+1)||X(u,D)||t(C,n,A[r],D,y.KSIDE_CASTLE)}if(O[r]&y.QSIDE_CASTLE){L=A[r],D=L-2;null!=C[L-1]||null!=C[L-2]||null!=C[L-3]||X(u,A[r])||X(u,L-1)||X(u,D)||t(C,n,A[r],D,y.QSIDE_CASTLE)}}if(!g)return n;var N=[];for(b=0,R=n.length;b<R;b++)ie(n[b]),Y(r)||N.push(n[b]),ae();return N}function H(e,t){var n="";if(e.flags&y.KSIDE_CASTLE)n="O-O";else if(e.flags&y.QSIDE_CASTLE)n="O-O-O";else{var r=se(e,t);e.piece!==o&&(n+=e.piece.toUpperCase()+r),e.flags&(y.CAPTURE|y.EP_CAPTURE)&&(e.piece===o&&(n+=de(e.from)[0]),n+="x"),n+=de(e.to),e.flags&y.PROMOTION&&(n+="="+e.promotion.toUpperCase())}return ie(e),J()&&(ee()?n+="#":n+="+"),ae(),n}function Z(e){return e.replace(/=/,"").replace(/[+#]?[?!]*$/,"")}function X(e,r){for(var i=k.a8;i<=k.h1;i++)if(136&i)i+=7;else if(null!=C[i]&&C[i].color===e){var a=C[i],s=i-r,c=s+119;if(v[c]&1<<b[a.type]){if(a.type===o){if(s>0){if(a.color===n)return!0}else if(a.color===t)return!0;continue}if("n"===a.type||"k"===a.type)return!0;var u=g[c],l=i+u,f=!1;while(l!==r){if(null!=C[l]){f=!0;break}l+=u}if(!f)return!0}}return!1}function Y(e){return X(pe(e),A[e])}function J(){return Y(_)}function ee(){return J()&&0===V().length}function te(){return!J()&&0===V().length}function ne(){for(var e={},t=[],n=0,r=0,o=k.a8;o<=k.h1;o++)if(r=(r+1)%2,136&o)o+=7;else{var s=C[o];s&&(e[s.type]=s.type in e?e[s.type]+1:1,s.type===a&&t.push(r),n++)}if(2===n)return!0;if(3===n&&(1===e[a]||1===e[i]))return!0;if(n===e[a]+2){var c=0,u=t.length;for(o=0;o<u;o++)c+=t[o];if(0===c||c===u)return!0}return!1}function re(){var e=[],t={},n=!1;while(1){var r=ae();if(!r)break;e.push(r)}while(1){var o=$().split(" ").slice(0,4).join(" ");if(t[o]=o in t?t[o]+1:1,t[o]>=3&&(n=!0),!e.length)break;ie(e.pop())}return n}function oe(e){I.push({move:e,kings:{b:A.b,w:A.w},turn:_,castling:{b:O.b,w:O.w},ep_square:T,half_moves:M,move_number:R})}function ie(e){var n=_,i=pe(n);if(oe(e),C[e.to]=C[e.from],C[e.from]=null,e.flags&y.EP_CAPTURE&&(_===t?C[e.to-16]=null:C[e.to+16]=null),e.flags&y.PROMOTION&&(C[e.to]={type:e.promotion,color:n}),C[e.to].type===u){if(A[C[e.to].color]=e.to,e.flags&y.KSIDE_CASTLE){var a=e.to-1,s=e.to+1;C[a]=C[s],C[s]=null}else if(e.flags&y.QSIDE_CASTLE){a=e.to+1,s=e.to-2;C[a]=C[s],C[s]=null}O[n]=""}if(O[n])for(var c=0,l=x[n].length;c<l;c++)if(e.from===x[n][c].square&&O[n]&x[n][c].flag){O[n]^=x[n][c].flag;break}if(O[i])for(c=0,l=x[i].length;c<l;c++)if(e.to===x[i][c].square&&O[i]&x[i][c].flag){O[i]^=x[i][c].flag;break}T=e.flags&y.BIG_PAWN?"b"===_?e.to-16:e.to+16:r,e.piece===o||e.flags&(y.CAPTURE|y.EP_CAPTURE)?M=0:M++,_===t&&R++,_=pe(_)}function ae(){var e=I.pop();if(null==e)return null;var n=e.move;A=e.kings,_=e.turn,O=e.castling,T=e.ep_square,M=e.half_moves,R=e.move_number;var r,i,a=_,s=pe(_);if(C[n.from]=C[n.to],C[n.from].type=n.piece,C[n.to]=null,n.flags&y.CAPTURE)C[n.to]={type:n.captured,color:s};else if(n.flags&y.EP_CAPTURE){var c;c=a===t?n.to-16:n.to+16,C[c]={type:o,color:s}}n.flags&(y.KSIDE_CASTLE|y.QSIDE_CASTLE)&&(n.flags&y.KSIDE_CASTLE?(r=n.to+1,i=n.to-1):n.flags&y.QSIDE_CASTLE&&(r=n.to-2,i=n.to+1),C[r]=C[i],C[i]=null);return n}function se(e,t){for(var n=V({legal:!t}),r=e.from,o=e.to,i=e.piece,a=0,s=0,c=0,u=0,l=n.length;u<l;u++){var f=n[u].from,d=n[u].to,p=n[u].piece;i===p&&r!==f&&o===d&&(a++,le(r)===le(f)&&s++,fe(r)===fe(f)&&c++)}return a>0?s>0&&c>0?de(r):c>0?de(r).charAt(1):de(r).charAt(0):""}function ce(){for(var e="   +------------------------+\n",t=k.a8;t<=k.h1;t++){if(0===fe(t)&&(e+=" "+"87654321"[le(t)]+" |"),null==C[t])e+=" . ";else{var r=C[t].type,o=C[t].color,i=o===n?r.toUpperCase():r.toLowerCase();e+=" "+i+" "}t+1&136&&(e+="|\n",t+=8)}return e+="   +------------------------+\n",e+="     a  b  c  d  e  f  g  h\n",e}function ue(e,t){var n=Z(e);if(t){var r=n.match(/([pnbrqkPNBRQK])?([a-h][1-8])x?-?([a-h][1-8])([qrbnQRBN])?/);if(r)var o=r[1],i=r[2],a=r[3],s=r[4]}for(var c=V(),u=0,l=c.length;u<l;u++){if(n===Z(H(c[u]))||t&&n===Z(H(c[u],!0)))return c[u];if(r&&(!o||o.toLowerCase()==c[u].piece)&&k[i]==c[u].from&&k[a]==c[u].to&&(!s||s.toLowerCase()==c[u].promotion))return c[u]}return null}function le(e){return e>>4}function fe(e){return 15&e}function de(e){var t=fe(e),n=le(e);return"abcdefgh".substring(t,t+1)+"87654321".substring(n,n+1)}function pe(e){return e===n?t:n}function he(e){return-1!=="0123456789".indexOf(e)}function ve(e){var t=ge(e);t.san=H(t,!1),t.to=de(t.to),t.from=de(t.from);var n="";for(var r in y)y[r]&t.flags&&(n+=m[r]);return t.flags=n,t}function ge(e){var t=e instanceof Array?[]:{};for(var n in e)t[n]="object"===typeof n?ge(e[n]):e[n];return t}function be(e){return e.replace(/^\s+|\s+$/g,"")}function me(e){for(var t=V({legal:!1}),n=0,r=_,o=0,i=t.length;o<i;o++){if(ie(t[o]),!Y(r))if(e-1>0){var a=me(e-1);n+=a}else n++;ae()}return n}return K("undefined"===typeof e?f:e),{WHITE:n,BLACK:t,PAWN:o,KNIGHT:i,BISHOP:a,ROOK:s,QUEEN:c,KING:u,SQUARES:function(){for(var e=[],t=k.a8;t<=k.h1;t++)136&t?t+=7:e.push(de(t));return e}(),FLAGS:m,load:function(e){return K(e)},reset:function(){return q()},moves:function(e){for(var t=V(e),n=[],r=0,o=t.length;r<o;r++)"undefined"!==typeof e&&"verbose"in e&&e.verbose?n.push(ve(t[r])):n.push(H(t[r],!1));return n},in_check:function(){return J()},in_checkmate:function(){return ee()},in_stalemate:function(){return te()},in_draw:function(){return M>=100||te()||ne()||re()},insufficient_material:function(){return ne()},in_threefold_repetition:function(){return re()},game_over:function(){return M>=100||ee()||te()||ne()||re()},validate_fen:function(e){return U(e)},fen:function(){return $()},board:function(){for(var e=[],t=[],n=k.a8;n<=k.h1;n++)null==C[n]?t.push(null):t.push({type:C[n].type,color:C[n].color}),n+1&136&&(e.push(t),t=[],n+=8);return e},pgn:function(e){var t="object"===typeof e&&"string"===typeof e.newline_char?e.newline_char:"\n",n="object"===typeof e&&"number"===typeof e.max_width?e.max_width:0,r=[],o=!1;for(var i in L)r.push("["+i+' "'+L[i]+'"]'+t),o=!0;o&&I.length&&r.push(t);var a=function(e){var t=D[$()];if("undefined"!==typeof t){var n=e.length>0?" ":"";e=`${e}${n}{${t}}`}return e},s=[];while(I.length>0)s.push(ae());var c=[],u="";0===s.length&&c.push(a(""));while(s.length>0){u=a(u);var l=s.pop();I.length||"b"!==l.color?"w"===l.color&&(u.length&&c.push(u),u=R+"."):u=R+". ...",u=u+" "+H(l,!1),ie(l)}if(u.length&&c.push(a(u)),"undefined"!==typeof L.Result&&c.push(L.Result),0===n)return r.join("")+c.join(" ");var f=function(){return r.length>0&&" "===r[r.length-1]&&(r.pop(),!0)},d=function(e,o){for(var i of o.split(" "))if(i){if(e+i.length>n){while(f())e--;r.push(t),e=0}r.push(i),e+=i.length,r.push(" "),e++}return f()&&e--,e},p=0;for(i=0;i<c.length;i++)p+c[i].length>n&&c[i].includes("{")?p=d(p,c[i]):(p+c[i].length>n&&0!==i?(" "===r[r.length-1]&&r.pop(),r.push(t),p=0):0!==i&&(r.push(" "),p++),r.push(c[i]),p+=c[i].length);return r.join("")},load_pgn:function(e,t){var n="undefined"!==typeof t&&"sloppy"in t&&t.sloppy;function r(e){return e.replace(/\\/g,"\\")}function o(e){for(var t in e)return!0;return!1}function i(e,t){for(var n="object"===typeof t&&"string"===typeof t.newline_char?t.newline_char:"\r?\n",o={},i=e.split(new RegExp(r(n))),a="",s="",c=0;c<i.length;c++)a=i[c].replace(/^\[([A-Z][A-Za-z]*)\s.*\]$/,"$1"),s=i[c].replace(/^\[[A-Za-z]+\s"(.*)"\ *\]$/,"$1"),be(a).length>0&&(o[a]=s);return o}var a="object"===typeof t&&"string"===typeof t.newline_char?t.newline_char:"\r?\n",s=new RegExp("^(\\[((?:"+r(a)+")|.)*\\])(?:"+r(a)+"){2}"),c=s.test(e)?s.exec(e)[1]:"";q();var u=i(c,t);for(var l in u)B([l,u[l]]);if("1"===u["SetUp"]&&(!("FEN"in u)||!K(u["FEN"],!0)))return!1;var f=function(e){return Array.from(e).map((function(e){return e.charCodeAt(0)<128?e.charCodeAt(0).toString(16):encodeURIComponent(e).replace(/\%/g,"").toLowerCase()})).join("")},p=function(e){return 0==e.length?"":decodeURIComponent("%"+e.match(/.{1,2}/g).join("%"))},h=function(e){return e=e.replace(new RegExp(r(a),"g")," "),`{${f(e.slice(1,e.length-1))}}`},v=function(e){if(e.startsWith("{")&&e.endsWith("}"))return p(e.slice(1,e.length-1))},g=e.replace(c,"").replace(new RegExp(`({[^}]*})+?|;([^${r(a)}]*)`,"g"),(function(e,t,n){return void 0!==t?h(t):" "+h(`{${n.slice(1)}}`)})).replace(new RegExp(r(a),"g")," "),b=/(\([^\(\)]+\))+?/g;while(b.test(g))g=g.replace(b,"");g=g.replace(/\d+\.(\.\.)?/g,""),g=g.replace(/\.\.\./g,""),g=g.replace(/\$\d+/g,"");var m=be(g).split(new RegExp(/\s+/));m=m.join(",").replace(/,,+/g,",").split(",");for(var y="",w=0;w<m.length-1;w++){var S=v(m[w]);if(void 0===S){if(y=ue(m[w],n),null==y)return!1;ie(y)}else D[$()]=S}if(S=v(m[m.length-1]),void 0!==S&&(D[$()]=S,m.pop()),y=m[m.length-1],d.indexOf(y)>-1)o(L)&&"undefined"===typeof L.Result&&B(["Result",y]);else{if(y=ue(y,n),null==y)return!1;ie(y)}return!0},header:function(){return B(arguments)},ascii:function(){return ce()},turn:function(){return _},move:function(e,t){var n="undefined"!==typeof t&&"sloppy"in t&&t.sloppy,r=null;if("string"===typeof e)r=ue(e,n);else if("object"===typeof e)for(var o=V(),i=0,a=o.length;i<a;i++)if(e.from===de(o[i].from)&&e.to===de(o[i].to)&&(!("promotion"in o[i])||e.promotion===o[i].promotion)){r=o[i];break}if(!r)return null;var s=ve(r);return ie(r),s},undo:function(){var e=ae();return e?ve(e):null},clear:function(){return N()},put:function(e,t){return W(e,t)},get:function(e){return F(e)},remove:function(e){return z(e)},perft:function(e){return me(e)},square_color:function(e){if(e in k){var t=k[e];return(le(t)+fe(t))%2===0?"light":"dark"}return null},history:function(e){var t=[],n=[],r="undefined"!==typeof e&&"verbose"in e&&e.verbose;while(I.length>0)t.push(ae());while(t.length>0){var o=t.pop();r?n.push(ve(o)):n.push(H(o)),ie(o)}return n},get_comment:function(){return D[$()]},set_comment:function(e){D[$()]=e.replace("{","[").replace("}","]")},delete_comment:function(){var e=D[$()];return delete D[$()],e},get_comments:function(){return j(),Object.keys(D).map((function(e){return{fen:e,comment:D[e]}}))},delete_comments:function(){return j(),Object.keys(D).map((function(e){var t=D[e];return delete D[e],{fen:e,comment:t}}))}}};t.Chess=o,r=function(){return o}.call(t,n,t,e),void 0===r||(e.exports=r)},c8ab:function(e,t,n){"use strict";function r(e,t){e.exploding={stage:1,keys:t},e.dom.redraw(),setTimeout(()=>{o(e,2),setTimeout(()=>o(e,void 0),120)},120)}function o(e,t){e.exploding&&(t?e.exploding.stage=t:e.exploding=void 0,e.dom.redraw())}Object.defineProperty(t,"__esModule",{value:!0}),t.explosion=void 0,t.explosion=r},c975:function(e,t,n){"use strict";var r=n("23e7"),o=n("4d64").indexOf,i=n("a640"),a=n("ae40"),s=[].indexOf,c=!!s&&1/[1].indexOf(1,-0)<0,u=i("indexOf"),l=a("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:c||!u||!l},{indexOf:function(e){return c?s.apply(this,arguments)||0:o(this,e,arguments.length>1?arguments[1]:void 0)}})},caad:function(e,t,n){"use strict";var r=n("23e7"),o=n("4d64").includes,i=n("44d2"),a=n("ae40"),s=a("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:!s},{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),i("includes")},cea2:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bindDocument=t.bindBoard=void 0;const r=n("63bb"),o=n("793c"),i=n("60d2"),a=n("b5dc");function s(e,t){const n=e.dom.elements.board;if(!e.dom.relative&&e.resizable&&"ResizeObserver"in window){const e=new window["ResizeObserver"](t);e.observe(n)}if(e.viewOnly)return;const r=l(e);n.addEventListener("touchstart",r,{passive:!1}),n.addEventListener("mousedown",r,{passive:!1}),(e.disableContextMenu||e.drawable.enabled)&&n.addEventListener("contextmenu",e=>e.preventDefault())}function c(e,t){const n=[];if(e.dom.relative||!e.resizable||"ResizeObserver"in window||n.push(u(document.body,"chessground.resize",t)),!e.viewOnly){const t=f(e,r.move,o.move),i=f(e,r.end,o.end);for(const e of["touchmove","mousemove"])n.push(u(document,e,t));for(const e of["touchend","mouseup"])n.push(u(document,e,i));const a=()=>e.dom.bounds.clear();n.push(u(document,"scroll",a,{capture:!0,passive:!0})),n.push(u(window,"resize",a,{passive:!0}))}return()=>n.forEach(e=>e())}function u(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function l(e){return t=>{e.draggable.current?r.cancel(e):e.drawable.current?o.cancel(e):t.shiftKey||a.isRightButton(t)?e.drawable.enabled&&o.start(e,t):e.viewOnly||(e.dropmode.active?i.drop(e,t):r.start(e,t))}}function f(e,t,n){return r=>{e.drawable.current?e.drawable.enabled&&n(e,r):e.viewOnly||t(e,r)}}t.bindBoard=s,t.bindDocument=c},d28b:function(e,t,n){var r=n("746f");r("iterator")},d784:function(e,t,n){"use strict";n("ac1f");var r=n("6eeb"),o=n("d039"),i=n("b622"),a=n("9263"),s=n("9112"),c=i("species"),u=!o((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),l=function(){return"$0"==="a".replace(/./,"$0")}(),f=i("replace"),d=function(){return!!/./[f]&&""===/./[f]("a","$0")}(),p=!o((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));e.exports=function(e,t,n,f){var h=i(e),v=!o((function(){var t={};return t[h]=function(){return 7},7!=""[e](t)})),g=v&&!o((function(){var t=!1,n=/a/;return"split"===e&&(n={},n.constructor={},n.constructor[c]=function(){return n},n.flags="",n[h]=/./[h]),n.exec=function(){return t=!0,null},n[h](""),!t}));if(!v||!g||"replace"===e&&(!u||!l||d)||"split"===e&&!p){var b=/./[h],m=n(h,""[e],(function(e,t,n,r,o){return t.exec===a?v&&!o?{done:!0,value:b.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}),{REPLACE_KEEPS_$0:l,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:d}),y=m[0],w=m[1];r(String.prototype,e,y),r(RegExp.prototype,h,2==t?function(e,t){return w.call(e,this,t)}:function(e){return w.call(e,this)})}f&&s(RegExp.prototype[h],"sham",!0)}},d81d:function(e,t,n){"use strict";var r=n("23e7"),o=n("b727").map,i=n("1dde"),a=n("ae40"),s=i("map"),c=a("map");r({target:"Array",proto:!0,forced:!s||!c},{map:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},ddb0:function(e,t,n){var r=n("da84"),o=n("fdbc"),i=n("e260"),a=n("9112"),s=n("b622"),c=s("iterator"),u=s("toStringTag"),l=i.values;for(var f in o){var d=r[f],p=d&&d.prototype;if(p){if(p[c]!==l)try{a(p,c,l)}catch(v){p[c]=l}if(p[u]||a(p,u,f),o[f])for(var h in i)if(p[h]!==i[h])try{a(p,h,i[h])}catch(v){p[h]=i[h]}}}},e01a:function(e,t,n){"use strict";var r=n("23e7"),o=n("83ab"),i=n("da84"),a=n("5135"),s=n("861d"),c=n("9bf2").f,u=n("e893"),l=i.Symbol;if(o&&"function"==typeof l&&(!("description"in l.prototype)||void 0!==l().description)){var f={},d=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof d?new l(e):void 0===e?l():l(e);return""===e&&(f[t]=!0),t};u(d,l);var p=d.prototype=l.prototype;p.constructor=d;var h=p.toString,v="Symbol(test)"==String(l("test")),g=/^Symbol\((.*)\)[^)]+$/;c(p,"description",{configurable:!0,get:function(){var e=s(this)?this.valueOf():this,t=h.call(e);if(a(f,e))return"";var n=v?t.slice(7,-1):t.replace(g,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:d})}},e538:function(e,t,n){var r=n("b622");t.f=r},e8b5:function(e,t,n){var r=n("c6b6");e.exports=Array.isArray||function(e){return"Array"==r(e)}},f183:function(e,t,n){var r=n("d012"),o=n("861d"),i=n("5135"),a=n("9bf2").f,s=n("90e3"),c=n("bb2f"),u=s("meta"),l=0,f=Object.isExtensible||function(){return!0},d=function(e){a(e,u,{value:{objectID:"O"+ ++l,weakData:{}}})},p=function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,u)){if(!f(e))return"F";if(!t)return"E";d(e)}return e[u].objectID},h=function(e,t){if(!i(e,u)){if(!f(e))return!0;if(!t)return!1;d(e)}return e[u].weakData},v=function(e){return c&&g.REQUIRED&&f(e)&&!i(e,u)&&d(e),e},g=e.exports={REQUIRED:!1,fastKey:p,getWeakData:h,onFreeze:v};r[u]=!0},fa94:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderSvg=t.createElement=void 0;const r=n("b5dc");function o(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function i(e,t){const n=e.drawable,r=n.current,o=r&&r.mouseSq?r:void 0,i=new Map,u=e.dom.bounds();for(const a of n.shapes.concat(n.autoShapes).concat(o?[o]:[]))a.dest&&i.set(a.dest,(i.get(a.dest)||0)+1);const l=n.shapes.concat(n.autoShapes).map(e=>({shape:e,current:!1,hash:c(e,i,!1,u)}));o&&l.push({shape:o,current:!0,hash:c(o,i,!0,u)});const f=l.map(e=>e.hash).join(";");if(f===e.drawable.prevSvgHash)return;e.drawable.prevSvgHash=f;const d=t.firstChild;a(n,l,d),s(e,l,n.brushes,i,t,d)}function a(e,t,n){const r=new Map;let o;for(const s of t)s.shape.dest&&(o=e.brushes[s.shape.brush],s.shape.modifiers&&(o=m(o,s.shape.modifiers)),r.set(o.key,o));const i=new Set;let a=n.firstChild;while(a)i.add(a.getAttribute("cgKey")),a=a.nextSibling;for(const[s,c]of r.entries())i.has(s)||n.appendChild(v(c))}function s(e,t,n,r,o,i){const a=e.dom.bounds(),s=new Map,c=[];for(const f of t)s.set(f.hash,!1);let u,l=i.nextSibling;while(l)u=l.getAttribute("cgHash"),s.has(u)?s.set(u,!0):c.push(l),l=l.nextSibling;for(const f of c)o.removeChild(f);for(const d of t)s.get(d.hash)||o.appendChild(f(e,d,n,r,a))}function c({orig:e,dest:t,brush:n,piece:r,modifiers:o},i,a,s){return[s.width,s.height,a,e,t,n,t&&(i.get(t)||0)>1,r&&u(r),o&&l(o)].filter(e=>e).join(",")}function u(e){return[e.color,e.role,e.scale].filter(e=>e).join(",")}function l(e){return""+(e.lineWidth||"")}function f(e,{shape:t,current:n,hash:o},i,a,s){let c;if(t.piece)c=h(e.drawable.pieces.baseUrl,b(r.key2pos(t.orig),e.orientation),t.piece,s);else{const o=b(r.key2pos(t.orig),e.orientation);if(t.dest){let u=i[t.brush];t.modifiers&&(u=m(u,t.modifiers)),c=p(u,o,b(r.key2pos(t.dest),e.orientation),n,(a.get(t.dest)||0)>1,s)}else c=d(i[t.brush],o,n,s)}return c.setAttribute("cgHash",o),c}function d(e,t,n,r){const i=E(t,r),a=y(r),s=(r.width+r.height)/32;return g(o("circle"),{stroke:e.color,"stroke-width":a[n?0:1],fill:"none",opacity:S(e,n),cx:i[0],cy:i[1],r:s-a[1]/2})}function p(e,t,n,r,i,a){const s=P(a,i&&!r),c=E(t,a),u=E(n,a),l=u[0]-c[0],f=u[1]-c[1],d=Math.atan2(f,l),p=Math.cos(d)*s,h=Math.sin(d)*s;return g(o("line"),{stroke:e.color,"stroke-width":w(e,r,a),"stroke-linecap":"round","marker-end":"url(#arrowhead-"+e.key+")",opacity:S(e,r),x1:c[0],y1:c[1],x2:u[0]-p,y2:u[1]-h})}function h(e,t,n,r){const i=E(t,r),a=r.width/8*(n.scale||1),s=n.color[0]+("knight"===n.role?"n":n.role[0]).toUpperCase();return g(o("image"),{className:`${n.role} ${n.color}`,x:i[0]-a/2,y:i[1]-a/2,width:a,height:a,href:e+s+".svg"})}function v(e){const t=g(o("marker"),{id:"arrowhead-"+e.key,orient:"auto",markerWidth:4,markerHeight:8,refX:2.05,refY:2.01});return t.appendChild(g(o("path"),{d:"M0,0 V4 L3,2 Z",fill:e.color})),t.setAttribute("cgKey",e.key),t}function g(e,t){for(const n in t)e.setAttribute(n,t[n]);return e}function b(e,t){return"white"===t?e:[7-e[0],7-e[1]]}function m(e,t){return{color:e.color,opacity:Math.round(10*e.opacity)/10,lineWidth:Math.round(t.lineWidth||e.lineWidth),key:[e.key,t.lineWidth].filter(e=>e).join("")}}function y(e){const t=e.width/512;return[3*t,4*t]}function w(e,t,n){return(e.lineWidth||10)*(t?.85:1)/512*n.width}function S(e,t){return(e.opacity||1)*(t?.9:1)}function P(e,t){return(t?20:10)/512*e.width}function E(e,t){return[(e[0]+.5)*t.width/8,(7.5-e[1])*t.height/8]}t.createElement=o,t.renderSvg=i},fb6a:function(e,t,n){"use strict";var r=n("23e7"),o=n("861d"),i=n("e8b5"),a=n("23cb"),s=n("50c4"),c=n("fc6a"),u=n("8418"),l=n("b622"),f=n("1dde"),d=n("ae40"),p=f("slice"),h=d("slice",{ACCESSORS:!0,0:0,1:2}),v=l("species"),g=[].slice,b=Math.max;r({target:"Array",proto:!0,forced:!p||!h},{slice:function(e,t){var n,r,l,f=c(this),d=s(f.length),p=a(e,d),h=a(void 0===t?d:t,d);if(i(f)&&(n=f.constructor,"function"!=typeof n||n!==Array&&!i(n.prototype)?o(n)&&(n=n[v],null===n&&(n=void 0)):n=void 0,n===Array||void 0===n))return g.call(f,p,h);for(r=new(void 0===n?Array:n)(b(h-p,0)),l=0;p<h;p++,l++)p in f&&u(r,l,f[p]);return r.length=l,r}})},fdbc:function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=chunk-b20a2086.6a54469c.js.map