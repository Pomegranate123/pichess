{"remainingRequest":"/home/pomegranate/git/pichess/frontend/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/pomegranate/git/pichess/frontend/src/views/login.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/pomegranate/git/pichess/frontend/src/views/login.vue","mtime":1615797846265},{"path":"/home/pomegranate/git/pichess/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1614588108064},{"path":"/home/pomegranate/git/pichess/frontend/node_modules/thread-loader/dist/cjs.js","mtime":1614588109047},{"path":"/home/pomegranate/git/pichess/frontend/node_modules/babel-loader/lib/index.js","mtime":1614588108034},{"path":"/home/pomegranate/git/pichess/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1614588108064},{"path":"/home/pomegranate/git/pichess/frontend/node_modules/vue-loader-v16/dist/index.js","mtime":1614588109117}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdXNlcjogbnVsbCwKICAgICAgdXNlcm5hbWU6ICcnLAogICAgICBwYXNzd29yZDogJycsCiAgICAgIGRpc2FibGVfYnV0dG9uOiB0cnVlLAogICAgICBlcnJvcm1zZzogJycKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICB1c2VybmFtZTogZnVuY3Rpb24oKSB7CiAgICAgIGlmKHRoaXMucGFzc3dvcmQgIT0gJycgJiYgdGhpcy51c2VybmFtZSAhPSAnJykgewogICAgICAgIHRoaXMuZGlzYWJsZV9idXR0b24gPSBmYWxzZQogICAgICB9CiAgICAgIGVsc2UgewogICAgICAgIHRoaXMuZGlzYWJsZV9idXR0b24gPSB0cnVlCiAgICAgIH0KICAgIH0sCiAgICBwYXNzd29yZDogZnVuY3Rpb24oKSB7CiAgICAgIGlmKHRoaXMucGFzc3dvcmQgIT0gJycgJiYgdGhpcy51c2VybmFtZSAhPSAnJykgewogICAgICAgIHRoaXMuZGlzYWJsZV9idXR0b24gPSBmYWxzZQogICAgICB9CiAgICAgIGVsc2UgewogICAgICAgIHRoaXMuZGlzYWJsZV9idXR0b24gPSB0cnVlCiAgICAgIH0KICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGxvZ2luKCkgewogICAgICBjb25zdCBoZWFkZXJzID0geydoZWFkZXJzJzogeydYLUNTUkZUb2tlbic6IHRoaXMuJGNvb2tpZS5nZXRDb29raWUoJ2NzcmZ0b2tlbicpfX0KICAgICAgY29uc3QgZGF0YSA9IHsgJ3Bhc3N3b3JkJzogdGhpcy5wYXNzd29yZCwgJ3VzZXJuYW1lJzogdGhpcy51c2VybmFtZSB9CiAgICAgIHRoaXMuYXhpb3MKICAgICAgICAucG9zdCgnaHR0cDovL2xvY2FsaG9zdC9hcGkvYWNjb3VudHMvYXV0aGVudGljYXRlLycsIGRhdGEsIGhlYWRlcnMpCiAgICAgICAgLnRoZW4oKCkgPT4gewogICAgICAgICAgLy90aGlzLiRjb29raWUuc2V0Q29va2llKHRoaXMudXNlciwgYXV0aCkKICAgICAgICAgIC8vdGhpcy5yZWRpcmVjdCgpCiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goZXJyb3IgPT4gewogICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpCiAgICAgICAgICB0aGlzLndyb25nX2luZm8oKQogICAgICB9KQogICAgfSwgIAogICAgd3JvbmdfaW5mbygpIHsKICAgICAgdGhpcy5wYXNzd29yZCA9ICcnCiAgICAgIHRoaXMuZXJyb3Jtc2cgPSAnSW5sb2dnZWdldmVucyB2ZXJrZWVyZCcKICAgIH0sCiAgICByZWRpcmVjdCgpIHsKICAgICAgaWYgKHRoaXMuJHJvdXRlLnF1ZXJ5LnJlZGlyZWN0ID09PSB1bmRlZmluZWQpIHsKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IG5hbWU6ICdnYW1lJ30pCiAgICAgIH0KICAgICAgZWxzZSB7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2godGhpcy4kcm91dGUucXVlcnkucmVkaXJlY3QpCiAgICAgIH0KICAgIH0sCiAgfSwKICBtb3VudGVkKCkgewogICAgaWYgKHRoaXMuJGNvb2tpZS5pc0Nvb2tpZUF2YWlsYWJsZSh0aGlzLnVzZXIpKSB7CiAgICAgIHRoaXMucmVkaXJlY3QoKQogICAgfQogIH0KfQo="},{"version":3,"sources":["/home/pomegranate/git/pichess/frontend/src/views/login.vue"],"names":[],"mappings":"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","file":"/home/pomegranate/git/pichess/frontend/src/views/login.vue","sourceRoot":"","sourcesContent":["<template>\n  <form>\n    <h1>Inloggen</h1>\n    <div class=form-group>\n      <label for=\"username\">Gebruikersnaam</label><br>\n      <input type=\"text\" v-model=\"username\" id=\"username\"/><br>\n    </div>\n    <div class=from-group>\n      <label for=\"password\">Wachtwoord</label><br>\n      <input type=\"password\" v-model=\"password\" id=\"password\"/><br>\n      <span class=error>{{ errormsg }}</span><br>\n    </div>\n    <div class=form-group> \n      <button class=\"confirm\" type=\"submit\" :disabled=\"disable_button\" v-on:click=\"login\">Login</button><br><br>\n      <router-link tag=\"a\" :to=\"{ name: 'aanmelden', query: { redirect: this.$route.fullPath } }\">Nog geen account?</router-link>\n    </div>\n  </form>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      user: null,\n      username: '',\n      password: '',\n      disable_button: true,\n      errormsg: ''\n    }\n  },\n  watch: {\n    username: function() {\n      if(this.password != '' && this.username != '') {\n        this.disable_button = false\n      }\n      else {\n        this.disable_button = true\n      }\n    },\n    password: function() {\n      if(this.password != '' && this.username != '') {\n        this.disable_button = false\n      }\n      else {\n        this.disable_button = true\n      }\n    }\n  },\n  methods: {\n    login() {\n      const headers = {'headers': {'X-CSRFToken': this.$cookie.getCookie('csrftoken')}}\n      const data = { 'password': this.password, 'username': this.username }\n      this.axios\n        .post('http://localhost/api/accounts/authenticate/', data, headers)\n        .then(() => {\n          //this.$cookie.setCookie(this.user, auth)\n          //this.redirect()\n        })\n        .catch(error => {\n          console.log(error)\n          this.wrong_info()\n      })\n    },  \n    wrong_info() {\n      this.password = ''\n      this.errormsg = 'Inloggegevens verkeerd'\n    },\n    redirect() {\n      if (this.$route.query.redirect === undefined) {\n        this.$router.push({ name: 'game'})\n      }\n      else {\n        this.$router.push(this.$route.query.redirect)\n      }\n    },\n  },\n  mounted() {\n    if (this.$cookie.isCookieAvailable(this.user)) {\n      this.redirect()\n    }\n  }\n}\n</script>\n"]}]}