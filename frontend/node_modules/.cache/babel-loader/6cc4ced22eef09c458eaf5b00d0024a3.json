{"remainingRequest":"/home/pomegranate/git/pichess/frontend/node_modules/babel-loader/lib/index.js!/home/pomegranate/git/pichess/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/pomegranate/git/pichess/frontend/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/pomegranate/git/pichess/frontend/src/views/login.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/pomegranate/git/pichess/frontend/src/views/login.vue","mtime":1615578886182},{"path":"/home/pomegranate/git/pichess/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1611926976115},{"path":"/home/pomegranate/git/pichess/frontend/node_modules/babel-loader/lib/index.js","mtime":1611926976102},{"path":"/home/pomegranate/git/pichess/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1611926976115},{"path":"/home/pomegranate/git/pichess/frontend/node_modules/vue-loader-v16/dist/index.js","mtime":1611926976622}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1c2VyOiBudWxsLAogICAgICB1c2VybmFtZTogJycsCiAgICAgIHBhc3N3b3JkOiAnJywKICAgICAgZGlzYWJsZV9idXR0b246IHRydWUsCiAgICAgIGVycm9ybXNnOiAnJwogICAgfTsKICB9LAogIHdhdGNoOiB7CiAgICB1c2VybmFtZTogZnVuY3Rpb24gdXNlcm5hbWUoKSB7CiAgICAgIGlmICh0aGlzLnBhc3N3b3JkICE9ICcnICYmIHRoaXMudXNlcm5hbWUgIT0gJycpIHsKICAgICAgICB0aGlzLmRpc2FibGVfYnV0dG9uID0gZmFsc2U7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5kaXNhYmxlX2J1dHRvbiA9IHRydWU7CiAgICAgIH0KICAgIH0sCiAgICBwYXNzd29yZDogZnVuY3Rpb24gcGFzc3dvcmQoKSB7CiAgICAgIGlmICh0aGlzLnBhc3N3b3JkICE9ICcnICYmIHRoaXMudXNlcm5hbWUgIT0gJycpIHsKICAgICAgICB0aGlzLmRpc2FibGVfYnV0dG9uID0gZmFsc2U7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5kaXNhYmxlX2J1dHRvbiA9IHRydWU7CiAgICAgIH0KICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGxvZ2luOiBmdW5jdGlvbiBsb2dpbigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBoZWFkZXJzID0gewogICAgICAgICdoZWFkZXJzJzogewogICAgICAgICAgJ1gtQ1NSRlRva2VuJzogdGhpcy4kY29va2llLmdldENvb2tpZSgnY3NyZnRva2VuJykKICAgICAgICB9CiAgICAgIH07CiAgICAgIHZhciBkYXRhID0gewogICAgICAgICdwYXNzd29yZCc6IHRoaXMucGFzc3dvcmQsCiAgICAgICAgJ3VzZXJuYW1lJzogdGhpcy51c2VybmFtZQogICAgICB9OwogICAgICB0aGlzLmF4aW9zLnBvc3QoJ2h0dHA6Ly9sb2NhbGhvc3QvYXBpL2FjY291bnRzL2F1dGhlbnRpY2F0ZS8nLCBkYXRhLCBoZWFkZXJzKS50aGVuKGZ1bmN0aW9uICgpIHsvL3RoaXMuJGNvb2tpZS5zZXRDb29raWUodGhpcy51c2VyLCBhdXRoKQogICAgICAgIC8vdGhpcy5yZWRpcmVjdCgpCiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKCiAgICAgICAgX3RoaXMud3JvbmdfaW5mbygpOwogICAgICB9KTsKICAgIH0sCiAgICB3cm9uZ19pbmZvOiBmdW5jdGlvbiB3cm9uZ19pbmZvKCkgewogICAgICB0aGlzLnBhc3N3b3JkID0gJyc7CiAgICAgIHRoaXMuZXJyb3Jtc2cgPSAnSW5sb2dnZWdldmVucyB2ZXJrZWVyZCc7CiAgICB9LAogICAgcmVkaXJlY3Q6IGZ1bmN0aW9uIHJlZGlyZWN0KCkgewogICAgICBpZiAodGhpcy4kcm91dGUucXVlcnkucmVkaXJlY3QgPT09IHVuZGVmaW5lZCkgewogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgIG5hbWU6ICdnYW1lJwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHRoaXMuJHJvdXRlLnF1ZXJ5LnJlZGlyZWN0KTsKICAgICAgfQogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIGlmICh0aGlzLiRjb29raWUuaXNDb29raWVBdmFpbGFibGUodGhpcy51c2VyKSkgewogICAgICB0aGlzLnJlZGlyZWN0KCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["/home/pomegranate/git/pichess/frontend/src/views/login.vue"],"names":[],"mappings":"AAoBA,eAAe;AACb,EAAA,IADa,kBACN;AACL,WAAO;AACL,MAAA,IAAI,EAAE,IADD;AAEL,MAAA,QAAQ,EAAE,EAFL;AAGL,MAAA,QAAQ,EAAE,EAHL;AAIL,MAAA,cAAc,EAAE,IAJX;AAKL,MAAA,QAAQ,EAAE;AALL,KAAP;AAOD,GATY;AAUb,EAAA,KAAK,EAAE;AACL,IAAA,QAAQ,EAAE,oBAAW;AACnB,UAAG,KAAK,QAAL,IAAiB,EAAjB,IAAuB,KAAK,QAAL,IAAiB,EAA3C,EAA+C;AAC7C,aAAK,cAAL,GAAsB,KAAtB;AACF,OAFA,MAGK;AACH,aAAK,cAAL,GAAsB,IAAtB;AACF;AACD,KARI;AASL,IAAA,QAAQ,EAAE,oBAAW;AACnB,UAAG,KAAK,QAAL,IAAiB,EAAjB,IAAuB,KAAK,QAAL,IAAiB,EAA3C,EAA+C;AAC7C,aAAK,cAAL,GAAsB,KAAtB;AACF,OAFA,MAGK;AACH,aAAK,cAAL,GAAsB,IAAtB;AACF;AACF;AAhBK,GAVM;AA4Bb,EAAA,OAAO,EAAE;AACP,IAAA,KADO,mBACC;AAAA;;AACN,UAAM,OAAM,GAAI;AAAC,mBAAW;AAAC,yBAAe,KAAK,OAAL,CAAa,SAAb,CAAuB,WAAvB;AAAhB;AAAZ,OAAhB;AACA,UAAM,IAAG,GAAI;AAAE,oBAAY,KAAK,QAAnB;AAA6B,oBAAY,KAAK;AAA9C,OAAb;AACA,WAAK,KAAL,CACG,IADH,CACQ,6CADR,EACuD,IADvD,EAC6D,OAD7D,EAEG,IAFH,CAEQ,YAAM,CACV;AACA;AACD,OALH,EAMG,KANH,CAMS,UAAA,KAAI,EAAK;AACd,QAAA,OAAO,CAAC,GAAR,CAAY,KAAZ;;AACA,QAAA,KAAI,CAAC,UAAL;AACH,OATD;AAUD,KAdM;AAeP,IAAA,UAfO,wBAeM;AACX,WAAK,QAAL,GAAgB,EAAhB;AACA,WAAK,QAAL,GAAgB,wBAAhB;AACD,KAlBM;AAmBP,IAAA,QAnBO,sBAmBI;AACT,UAAI,KAAK,MAAL,CAAY,KAAZ,CAAkB,QAAlB,KAA+B,SAAnC,EAA8C;AAC5C,aAAK,OAAL,CAAa,IAAb,CAAkB;AAAE,UAAA,IAAI,EAAE;AAAR,SAAlB;AACF,OAFA,MAGK;AACH,aAAK,OAAL,CAAa,IAAb,CAAkB,KAAK,MAAL,CAAY,KAAZ,CAAkB,QAApC;AACF;AACD;AA1BM,GA5BI;AAwDb,EAAA,OAxDa,qBAwDH;AACR,QAAI,KAAK,OAAL,CAAa,iBAAb,CAA+B,KAAK,IAApC,CAAJ,EAA+C;AAC7C,WAAK,QAAL;AACF;AACF;AA5Da,CAAf","sourcesContent":["<template>\n  <form>\n    <h1>Inloggen</h1>\n    <div class=form-group>\n      <label for=\"username\">Gebruikersnaam</label><br>\n      <input type=\"text\" v-model=\"username\" id=\"username\"/><br>\n    </div>\n    <div class=from-group>\n      <label for=\"password\">Wachtwoord</label><br>\n      <input type=\"password\" v-model=\"password\" id=\"password\"/><br>\n      <span class=error>{{ errormsg }}</span><br>\n    </div>\n    <div class=form-group> \n      <button class=\"confirm\" type=\"submit\" :disabled=\"disable_button\" v-on:click=\"login\">Login</button><br><br>\n      <router-link tag=\"a\" :to=\"{ name: 'aanmelden', query: { redirect: this.$route.fullPath } }\">Nog geen account?</router-link>\n    </div>\n  </form>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      user: null,\n      username: '',\n      password: '',\n      disable_button: true,\n      errormsg: ''\n    }\n  },\n  watch: {\n    username: function() {\n      if(this.password != '' && this.username != '') {\n        this.disable_button = false\n      }\n      else {\n        this.disable_button = true\n      }\n    },\n    password: function() {\n      if(this.password != '' && this.username != '') {\n        this.disable_button = false\n      }\n      else {\n        this.disable_button = true\n      }\n    }\n  },\n  methods: {\n    login() {\n      const headers = {'headers': {'X-CSRFToken': this.$cookie.getCookie('csrftoken')}}\n      const data = { 'password': this.password, 'username': this.username }\n      this.axios\n        .post('http://localhost/api/accounts/authenticate/', data, headers)\n        .then(() => {\n          //this.$cookie.setCookie(this.user, auth)\n          //this.redirect()\n        })\n        .catch(error => {\n          console.log(error)\n          this.wrong_info()\n      })\n    },  \n    wrong_info() {\n      this.password = ''\n      this.errormsg = 'Inloggegevens verkeerd'\n    },\n    redirect() {\n      if (this.$route.query.redirect === undefined) {\n        this.$router.push({ name: 'game'})\n      }\n      else {\n        this.$router.push(this.$route.query.redirect)\n      }\n    },\n  },\n  mounted() {\n    if (this.$cookie.isCookieAvailable(this.user)) {\n      this.redirect()\n    }\n  }\n}\n</script>\n"],"sourceRoot":""}]}